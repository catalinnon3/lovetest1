{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\TestMiniApp\\\\src\\\\App.js\";\nimport React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css';\nimport eruda from 'eruda';\nimport { Panel, Title, Counter, Headline, Footer, PanelHeader, View, SimpleCell, Slider, Switch, Div, ScreenSpinner, List, Cell, Gallery, FormLayout, Input, Avatar, Group, Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs, TabsItem, PullToRefresh, Snackbar, FixedLayout, PanelHeaderBack, PanelHeaderClose, CellButton, PromoBanner, Link, platform, IOS, ANDROID } from '@vkontakte/vkui';\nimport Icon16CancelCircleOutline from '@vkontakte/icons/dist/16/cancel_circle_outline';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon28AdvertisingOutline from '@vkontakte/icons/dist/28/advertising_outline';\nimport Icon28CameraOutline from '@vkontakte/icons/dist/28/camera_outline';\nimport Icon28GhostOutline from '@vkontakte/icons/dist/28/ghost_outline';\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\nimport Lottie from 'react-lottie';\nimport animationDataBackground from './animations/background.json';\nimport animationDataWaves from './animations/wave.json';\nimport animationDataLoading from './animations/loading2.json';\nimport { Upload } from \"./components/Upload\";\nimport html2canvas from 'html2canvas';\nimport stars from './img/stars.png';\nimport ru from './img/ru.png';\nimport ukr from './img/ukr.png';\nimport cn from './img/cn.png';\nimport it from './img/it.png';\nimport bel from './img/bel.png';\nimport brit from './img/brit.png';\nimport germ from './img/germ.png';\nimport grez from './img/grez.png';\nimport belg from './img/belg.png';\nimport as from './img/as.png';\nimport jm from './img/jm.png';\nimport sz from './img/sz.png';\nimport pl from './img/pl.png';\nimport bulg from './img/bulg.png';\nimport isr from './img/isr.png';\nimport fr from './img/fr.png';\nimport kz from './img/kz.png';\nimport us from './img/us.png';\nimport spain from './img/spain.png';\nimport ph from './img/ph.png';\nimport sd from './img/sd.png';\nimport ml from './img/ml.png';\nimport am from './img/am.png';\nimport ire from './img/ire.png';\nimport den from './img/den.png';\nimport braz from './img/braz.png';\nimport jp from './img/jp.png';\nimport ch from './img/ch.png';\nimport leb from './img/leb.png';\nimport arab from './img/arab.png';\nimport afr from './img/afr.png';\nimport zb from './img/zb.png';\nimport arg from './img/arg.png';\nimport ind from './img/ind.png';\nimport eg from './img/eg.png';\nimport kor from './img/kor.png';\nimport mex from './img/mex.png';\nconst blueBackground = {\n  backgroundColor: 'var(--accent)'\n},\n      redBackground = {\n  backgroundColor: 'var(--dynamic_red)'\n},\n      os = platform();\n\nconst random = require('random');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.back = () => {\n      if (this.state.popout !== null) {\n        this.setState({\n          popout: null\n        });\n        return;\n      }\n\n      let _this$state = this.state,\n          activePanel = _this$state.activePanel,\n          history = _this$state.history;\n\n      if (activePanel === 'main') {\n        bridge.send(\"VKWebAppClose\", {\n          \"status\": \"success\"\n        });\n      } else {\n        if (history.length === 1) {\n          bridge.send(\"VKWebAppClose\", {\n            \"status\": \"success\"\n          });\n        } else if (history.length > 1) {\n          history.pop();\n          activePanel = history[history.length - 1];\n          this.setState({\n            activePanel\n          });\n          this.change_hash(activePanel);\n        }\n      }\n    };\n\n    this.state = {\n      popout: null,\n      history: [\"main\"],\n      activePanel: \"main\",\n      show_native_ads: false,\n      light_value: 0,\n      light_interval_status: false,\n      light_interval_time: 50,\n      photo: 'https://sun1-83.userapi.com/c858020/v858020848/dabc4/pcnuQszWuCw.jpg',\n      can_generate: true\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.initializeApp = this.initializeApp.bind(this);\n    this.back = this.back.bind(this);\n    this.go = this.go.bind(this);\n    this.change_hash = this.change_hash.bind(this); //eruda.init();\n  }\n\n  async componentDidMount() {\n    let user = await bridge.sendPromise('VKWebAppGetUserInfo');\n    this.setState({\n      photo: user.photo_max_orig,\n      name: user.first_name + ' ' + user.last_name\n    });\n    window.addEventListener('popstate', e => {\n      e.preventDefault();\n      this.back(e);\n    });\n    bridge.subscribe(async ({\n      detail: {\n        type,\n        data\n      }\n    }) => {\n      if (type !== undefined) console.log(type, data);\n\n      if (type === 'VKWebAppUpdateConfig') {\n        const schemeAttribute = document.createAttribute('scheme');\n        schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    let hash = window.location.hash;\n\n    if (hash) {\n      hash = hash.replace('#', '');\n      this.go(hash);\n    } else {\n      this.change_hash('main');\n    }\n  }\n\n  go(panel) {\n    let history = this.state.history;\n\n    if (history[history.length - 1] !== panel) {\n      history.push(panel);\n      window.history.pushState({\n        activePanel: panel\n      }, 'Title');\n      this.setState({\n        activePanel: panel,\n        history,\n        snackbar: null\n      });\n    }\n\n    this.change_hash(panel);\n  }\n\n  change_hash(panel) {\n    bridge.send(\"VKWebAppSetLocation\", {\n      \"location\": panel\n    });\n  }\n\n  async showSnackBar(text, icon, style, action, onActionClick) {\n    this.setState({\n      snackbar: null\n    });\n    await this.sleep(10);\n    if (onActionClick === null) onActionClick = () => {};\n    this.setState({\n      snackbar: React.createElement(Snackbar, {\n        layout: \"vertical\",\n        onClose: () => this.setState({\n          snackbar: null\n        }),\n        before: React.createElement(Avatar, {\n          size: 24,\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, icon),\n        action: action,\n        onActionClick: onActionClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, text)\n    });\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async uploadFile(element, evt) {\n    let tgt = evt.target || window.event.srcElement,\n        files = tgt.files;\n    const t = this;\n\n    if (FileReader && files && files.length) {\n      for (let file of files) {\n        let fr = new FileReader();\n\n        fr.onload = async function () {\n          let res = fr.result; //base64 result, to get src -> array[0].props.src\n\n          if (file.type.includes('image')) {\n            let image = new Image();\n            image.src = res;\n\n            image.onload = async function () {\n              try {\n                await bridge.send('VKWebAppAllowMessagesFromGroup', {\n                  group_id: 197570628,\n                  key: 'fsdgeruiogj'\n                });\n              } catch (e) {\n                this.setState({\n                  snackbar: React.createElement(Snackbar, {\n                    layout: \"vertical\",\n                    onClose: () => this.setState({\n                      snackbar: null\n                    }),\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 205\n                    },\n                    __self: this\n                  }, \"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u0440\\u0430\\u0437\\u0440\\u0435\\u0448\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439\")\n                });\n                return;\n              }\n\n              let canvas = document.createElement('CANVAS'),\n                  ctx = canvas.getContext('2d');\n              canvas.height = 720;\n              canvas.width = 720;\n              ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, 720, 720);\n              t.setState({\n                [element]: res,\n                can_generate: true\n              });\n              this.setState({\n                loading: true\n              });\n              setTimeout(() => {\n                this.setState({\n                  loading: false\n                });\n              }, 2200);\n              let percents = 100;\n              let p4 = random.int(1, 4);\n              percents -= p4;\n              let p3 = random.int(6, 13);\n              percents -= p3;\n              let p2 = random.int(25, 41);\n              percents -= p2;\n              let p1 = percents;\n              let country = [[['Россия', ru], ['Украина', ukr], ['Канада', cn], ['Италия', it], ['Белорусия', bel], ['Британия', brit], ['Германия', germ], ['Греция', grez]], [['Бельгия', belg], ['Австрия', as], ['Ямайка', jm], ['Швейцария', sz], ['Польша', pl], ['Болгария', bulg], ['Израиль', isr], ['Франция', fr], ['Казахстан', kz], ['США', us], ['Испания', spain]], [['Филлипины', ph], ['Швеция', sd], ['Молдавия', ml], ['Армения', am], ['Ирландия', ire], ['Дания', den], ['Бразилия', braz]], [['Япония', jp], ['Китай', ch], ['Ливан', leb], ['Саудовская Аравия', arab], ['Африка', afr], ['Зимбабве', zb], ['Аргентина', arg], ['Индия', ind], ['Египет', eg], ['Корея', kor], ['Мексика', mex]]];\n              let c1 = country[0][random.int(0, country[0].length - 1)];\n              let c2 = c1 === country[0][0] ? country[1][random.int(0, country[1].length - 1)] : country[0][0];\n              let c3 = country[2][random.int(0, country[2].length - 1)];\n              let c4 = country[3][random.int(0, country[3].length - 1)];\n              this.setState({\n                p1,\n                p2,\n                p3,\n                p4,\n                c1,\n                c2,\n                c3,\n                c4,\n                can_generate: false\n              });\n            }.bind(this);\n          } else {\n            t.showSnackBar('Необходимо загрузить изображение в формате PNG', React.createElement(Icon16CancelCircleOutline, {\n              fill: \"#fff\",\n              width: 14,\n              height: 14,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 287\n              },\n              __self: this\n            }), redBackground);\n          }\n        }.bind(this);\n\n        await fr.readAsDataURL(file);\n      }\n    } // Not supported\n    else {// fallback -- perhaps submit the input to an iframe and temporarily store\n        // them on the server until the user's session ends.\n      }\n  }\n\n  viewportToPixels(value) {\n    var parts = value.match(/([0-9\\.]+)(vh|vw)/);\n    var q = Number(parts[1]);\n    var side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]];\n    return side * (q / 100);\n  }\n\n  render() {\n    return React.createElement(View, {\n      activePanel: this.state.activePanel,\n      popout: this.state.popout,\n      history: this.state.history,\n      onSwipeBack: this.back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(Panel, {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"Mini App\"), React.createElement(Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(SimpleCell, {\n      before: React.createElement(Icon28AdvertisingOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }),\n      onClick: () => {\n        this.go('advert');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u043A\\u043B\\u0430\\u043C\\u0430\"), React.createElement(SimpleCell, {\n      before: React.createElement(Icon28CameraOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }),\n      onClick: () => {\n        this.go('light');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"\\u0424\\u043E\\u043D\\u0430\\u0440\\u0438\\u043A\"), React.createElement(SimpleCell, {\n      before: React.createElement(Icon28GhostOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }),\n      onClick: () => {\n        this.go('animation');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"\\u0410\\u043D\\u0438\\u043C\\u0430\\u0446\\u0438\\u044F\"))), React.createElement(Panel, {\n      id: \"advert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u043A\\u043B\\u0430\\u043C\\u0430\"), React.createElement(Cell, {\n      indicator: os === ANDROID ? 'Android' : os === IOS ? 'IOS/Web' : os.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"\\u041F\\u043B\\u0430\\u0442\\u0444\\u043E\\u0440\\u043C\\u0430\"), React.createElement(Group, {\n      header: React.createElement(Header, {\n        mode: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440 \\u0440\\u0435\\u043A\\u043B\\u0430\\u043C\\u044B\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(Cell, {\n      onClick: () => {\n        this.setState({\n          show_banner_ads: !this.state.show_banner_ads\n        });\n      },\n      asideContent: React.createElement(Icon16Dropdown, {\n        style: {\n          transform: \"rotate(\".concat(this.state.show_banner_ads ? '180deg' : '0', \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, \"\\u0411\\u0430\\u043D\\u043D\\u0435\\u0440\"), this.state.show_banner_ads && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(Button, {\n      mode: \"primary\",\n      onClick: () => {\n        bridge.send('VKWebAppGetAds', {}).then(data => {\n          this.setState({\n            promoBanner: React.createElement(PromoBanner, {\n              onClose: () => {\n                this.setState({\n                  promoBanner: null\n                });\n              },\n              bannerData: data,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 338\n              },\n              __self: this\n            })\n          });\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\"), React.createElement(Button, {\n      style: {\n        marginLeft: '8px',\n        marginRight: '8px'\n      },\n      mode: \"secondary\",\n      onClick: () => {\n        this.setState({\n          promoBanner: null\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, \"\\u0421\\u043A\\u0440\\u044B\\u0442\\u044C\")), React.createElement(Separator, {\n      style: {\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    })), React.createElement(Cell, {\n      onClick: () => {\n        if (os === ANDROID) {\n          this.setState({\n            show_native_ads: !this.state.show_native_ads\n          });\n        } else {\n          this.showSnackBar('Работает только на Android', React.createElement(Icon16CancelCircleOutline, {\n            fill: '#fff',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 346\n            },\n            __self: this\n          }), redBackground);\n        }\n      },\n      asideContent: React.createElement(Icon16Dropdown, {\n        style: {\n          transform: \"rotate(\".concat(this.state.show_native_ads ? '180deg' : '0', \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u044D\\u043A\\u0440\\u0430\\u043D\\u043D\\u0430\\u044F\"), this.state.show_native_ads && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(Button, {\n      mode: \"outline\",\n      onClick: () => {\n        bridge.send('VKWebAppShowNativeAds', {\n          ad_format: 'preloader'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, \"preloader\"), React.createElement(Button, {\n      style: {\n        marginLeft: '8px'\n      },\n      mode: \"outline\",\n      onClick: () => {\n        bridge.send('VKWebAppShowNativeAds', {\n          ad_format: 'reward'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, \"reward\"), React.createElement(Button, {\n      style: {\n        marginLeft: '8px',\n        marginRight: '8px'\n      },\n      mode: \"outline\",\n      onClick: () => {\n        bridge.send('VKWebAppShowNativeAds', {\n          ad_format: 'interstitial'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"interstitial\")), React.createElement(Separator, {\n      style: {\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }))), this.state.promoBanner && React.createElement(FixedLayout, {\n      vertical: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, this.state.promoBanner), this.state.snackbar), React.createElement(Panel, {\n      id: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, \"\\u0424\\u043E\\u043D\\u0430\\u0440\\u0438\\u043A\"), React.createElement(FormLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(Slider, {\n      min: 0,\n      max: 1,\n      value: Number(this.state.light_value),\n      onChange: async light_value => {\n        this.setState({\n          light_value\n        });\n        await bridge.send('VKWebAppFlashSetLevel', {\n          level: light_value\n        });\n      },\n      top: String(this.state.light_value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }), React.createElement(Group, {\n      header: React.createElement(Header, {\n        mode: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(Cell, {\n      asideContent: React.createElement(Switch, {\n        checked: this.state.light_interval_status,\n        onChange: async () => {\n          if (this.state.light_value > 0) {\n            await this.setState({\n              light_interval_status: !this.state.light_interval_status\n            });\n            let interval = this.state.interval ? this.state.interval : null;\n\n            try {\n              clearInterval(interval);\n            } catch (e) {}\n\n            console.log(this.state.light_interval_status);\n\n            if (this.state.light_interval_status) {\n              interval = setInterval(async () => {\n                if (this.state.light_interval_status) {\n                  await bridge.send('VKWebAppFlashSetLevel', {\n                    level: 0\n                  });\n                  await bridge.send('VKWebAppFlashSetLevel', {\n                    level: this.state.light_value\n                  });\n                }\n              }, this.state.light_interval_time);\n            }\n\n            this.setState({\n              interval\n            });\n          } else {\n            this.showSnackBar('Уровень яркости не должен быть равным нулю', React.createElement(Icon16CancelCircleOutline, {\n              fill: '#fff',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 398\n              },\n              __self: this\n            }), redBackground);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"), React.createElement(Input, {\n      value: String(this.state.light_interval_time),\n      onChange: e => {\n        if (e.target.value >= 50) this.setState({\n          light_interval_time: e.target.value\n        });else this.showSnackBar('Минимальное значение — 50', React.createElement(Icon16CancelCircleOutline, {\n          fill: '#fff',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        }), redBackground);\n      },\n      type: \"number\",\n      top: \"\\u0412\\u0440\\u0435\\u043C\\u044F (\\u043C\\u0441)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    })), this.state.snackbar)), React.createElement(Panel, {\n      id: \"animation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(Upload, {\n      onChange: async e => {\n        this.uploadFile('photo', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        background: 'white',\n        height: '40vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        paddingTop: 'calc(6vh + var(--safe-area-inset-top))'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      crossOrigin: 'anonymous',\n      shadow: false,\n      size: this.viewportToPixels('26vh'),\n      mode: \"app\",\n      src: this.state.photo,\n      className: \"centered\",\n      style: {\n        borderRadius: '2vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }), false && React.createElement(Title, {\n      level: \"1\",\n      weight: \"medium\",\n      className: \"centered\",\n      style: {\n        marginTop: 16\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }, this.state.name)))), React.createElement(\"div\", {\n      style: {\n        borderTopLeftRadius: '5vh',\n        borderTopRightRadius: '5vh',\n        height: '60vh',\n        background: '#1d1b26'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, this.state.loading ? React.createElement(\"div\", {\n      className: \"absolute_centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(Lottie, {\n      className: \"absolute_centered animated-loading\",\n      style: {\n        pointerEvents: 'none',\n        zIndex: -1,\n        transform: 'translateY(4vh)'\n      },\n      options: {\n        loop: true,\n        autoplay: true,\n        animationData: animationDataLoading,\n        rendererSettings: {\n          preserveAspectRatio: 'xMidYMid slice'\n        }\n      },\n      height: '100px',\n      width: '100px',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    })) : this.state.can_generate ? React.createElement(Lottie, {\n      className: \"absolute_centered\",\n      style: {\n        pointerEvents: 'none',\n        zIndex: -1,\n        transform: 'translateY(4vh)'\n      },\n      options: {\n        loop: true,\n        autoplay: true,\n        animationData: animationDataBackground,\n        rendererSettings: {\n          preserveAspectRatio: 'xMidYMid slice'\n        }\n      },\n      height: '45vh',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      style: {\n        width: '100vw',\n        height: '60vh',\n        backgroundImage: \"url(\".concat(stars, \")\"),\n        backgroundRepeat: 'repeat',\n        opacity: .3\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }), !this.state.loading && React.createElement(\"div\", {\n      className: \"absolute_centered animated-loading\",\n      style: {\n        width: '100vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, this.state.can_generate ? React.createElement(Upload, {\n      onChange: async e => {\n        this.uploadFile('photo', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(Title, {\n      style: {\n        color: 'white',\n        textAlign: 'center'\n      },\n      level: \"3\",\n      weight: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, \"\\u0427\\u0442\\u043E\\u0431\\u044B \\u0443\\u0437\\u043D\\u0430\\u0442\\u044C, \\u043A\\u0442\\u043E \\u0432\\u044B \\u043F\\u043E \\u043D\\u0430\\u0446\\u0438\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438, \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E, \\u0433\\u0434\\u0435 \\u0445\\u043E\\u0440\\u043E\\u0448\\u043E \\u0432\\u0438\\u0434\\u043D\\u043E \\u0432\\u0430\\u0448\\u0435 \\u043B\\u0438\\u0446\\u043E\"), React.createElement(\"div\", {\n      className: \"centered\",\n      style: {\n        marginTop: '16px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(Button, {\n      mode: \"overlay_secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C\"))) : React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '-5vh',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        width: '80vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      crossOrigin: 'anonymous',\n      src: this.state.c1[1],\n      height: 32,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }), React.createElement(SimpleCell, {\n      style: {\n        height: '6vh',\n        background: 'linear-gradient(90deg, #ffffff00, #e64646)',\n        width: '70vw'\n      },\n      disabled: true,\n      indicator: React.createElement(Title, {\n        level: 2,\n        weight: \"medium\",\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, this.state.p1, \"%\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(Title, {\n      level: 2,\n      weight: \"medium\",\n      style: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, this.state.c1[0]))), React.createElement(\"div\", {\n      className: \"centered\",\n      style: {\n        marginTop: '1.5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      crossOrigin: 'anonymous',\n      src: this.state.c2[1],\n      height: 32,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }), React.createElement(SimpleCell, {\n      style: {\n        height: '6vh',\n        background: 'linear-gradient(90deg, #ffffff00, #e64646)',\n        width: '70vw'\n      },\n      disabled: true,\n      indicator: React.createElement(Title, {\n        level: 2,\n        weight: \"medium\",\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, this.state.p2, \"%\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(Title, {\n      level: 2,\n      weight: \"medium\",\n      style: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, this.state.c2[0]))), React.createElement(\"div\", {\n      className: \"centered\",\n      style: {\n        marginTop: '1.5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      crossOrigin: 'anonymous',\n      src: this.state.c3[1],\n      height: 32,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }), React.createElement(SimpleCell, {\n      style: {\n        height: '6vh',\n        background: 'linear-gradient(90deg, #ffffff00, #e64646)',\n        width: '70vw'\n      },\n      disabled: true,\n      indicator: React.createElement(Title, {\n        level: 2,\n        weight: \"medium\",\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, this.state.p3, \"%\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, React.createElement(Title, {\n      level: 2,\n      weight: \"medium\",\n      style: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, this.state.c3[0]))), React.createElement(\"div\", {\n      className: \"centered\",\n      style: {\n        marginTop: '1.5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      crossOrigin: 'anonymous',\n      src: this.state.c4[1],\n      height: 32,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }), React.createElement(SimpleCell, {\n      style: {\n        height: '6vh',\n        background: 'linear-gradient(90deg, #ffffff00, #e64646)',\n        width: '70vw'\n      },\n      disabled: true,\n      indicator: React.createElement(Title, {\n        level: 2,\n        weight: \"medium\",\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, this.state.p4, \"%\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, React.createElement(Title, {\n      level: 2,\n      weight: \"medium\",\n      style: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, this.state.c4[0]))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: 'white',\n        opacity: .5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, \"\\u0427\\u0442\\u043E\\u0431\\u044B \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E, \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u043D\\u0430 \\u0441\\u0432\\u043E\\u0439 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\")))), !this.state.loading && !this.state.can_generate && React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '1vh',\n        width: '100vw',\n        zIndex: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: async () => {\n        this.setState({\n          popout: React.createElement(ScreenSpinner, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 502\n            },\n            __self: this\n          }),\n          screen: true\n        });\n        await this.sleep(250);\n        let element = document.getElementsByClassName('View__panels')[0];\n        html2canvas(element, {\n          allowTaint: true\n        }).then(async canvas => {\n          let blob = canvas.toDataURL('image/png');\n\n          try {\n            let resp = await bridge.send('VKWebAppShowStoryBox', {\n              background_type: 'image',\n              blob,\n              attachment: {\n                url: 'https://vk.com/app' + 7439359,\n                text: 'open',\n                type: 'url'\n              }\n            });\n            this.setState({\n              shared: true\n            });\n          } catch (e) {}\n\n          this.setState({\n            popout: null,\n            screen: false\n          });\n        });\n      },\n      style: {\n        background: '#ffffff00',\n        color: 'white',\n        fontSize: '20px',\n        letterSpacing: '1px'\n      },\n      before: React.createElement(Icon28StoryOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }),\n      size: \"xl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F \\u0432 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438\")), React.createElement(Lottie, {\n      style: {\n        position: 'absolute',\n        bottom: 0,\n        pointerEvents: 'none'\n      },\n      options: {\n        loop: true,\n        autoplay: true,\n        animationData: animationDataWaves,\n        rendererSettings: {\n          preserveAspectRatio: 'xMidYMid slice'\n        }\n      },\n      height: '45vh',\n      width: '100vw',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }), this.state.snackbar)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/TestMiniApp/src/App.js"],"names":["React","bridge","eruda","Panel","Title","Counter","Headline","Footer","PanelHeader","View","SimpleCell","Slider","Switch","Div","ScreenSpinner","List","Cell","Gallery","FormLayout","Input","Avatar","Group","Epic","Tabbar","TabbarItem","Separator","Button","PanelHeaderContext","Header","PanelHeaderSimple","PanelHeaderContent","Placeholder","Tabs","TabsItem","PullToRefresh","Snackbar","FixedLayout","PanelHeaderBack","PanelHeaderClose","CellButton","PromoBanner","Link","platform","IOS","ANDROID","Icon16CancelCircleOutline","Icon16Dropdown","Icon28AdvertisingOutline","Icon28CameraOutline","Icon28GhostOutline","Icon28StoryOutline","Lottie","animationDataBackground","animationDataWaves","animationDataLoading","Upload","html2canvas","stars","ru","ukr","cn","it","bel","brit","germ","grez","belg","as","jm","sz","pl","bulg","isr","fr","kz","us","spain","ph","sd","ml","am","ire","den","braz","jp","ch","leb","arab","afr","zb","arg","ind","eg","kor","mex","blueBackground","backgroundColor","redBackground","os","random","require","App","Component","constructor","props","back","state","popout","setState","activePanel","history","send","length","pop","change_hash","show_native_ads","light_value","light_interval_status","light_interval_time","photo","can_generate","componentDidMount","bind","initializeApp","go","user","sendPromise","photo_max_orig","name","first_name","last_name","window","addEventListener","e","preventDefault","subscribe","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","hash","location","replace","panel","push","pushState","snackbar","showSnackBar","text","icon","style","action","onActionClick","sleep","ms","Promise","resolve","setTimeout","uploadFile","element","evt","tgt","target","event","srcElement","files","t","FileReader","file","onload","res","result","includes","image","Image","src","group_id","key","canvas","createElement","ctx","getContext","height","width","drawImage","loading","percents","p4","int","p3","p2","p1","country","c1","c2","c3","c4","readAsDataURL","viewportToPixels","parts","match","q","Number","side","indexOf","render","toString","show_banner_ads","transform","display","justifyContent","marginTop","then","promoBanner","marginLeft","marginRight","ad_format","level","String","interval","clearInterval","setInterval","background","paddingTop","borderRadius","borderTopLeftRadius","borderTopRightRadius","pointerEvents","zIndex","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","backgroundImage","backgroundRepeat","opacity","color","textAlign","position","top","left","alignItems","bottom","screen","getElementsByClassName","allowTaint","blob","toDataURL","resp","background_type","attachment","url","shared","fontSize","letterSpacing"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,+BAAP;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,OAAvB,EAAgCC,QAAhC,EAA0CC,MAA1C,EAAkDC,WAAlD,EAA+DC,IAA/D,EAAsEC,UAAtE,EAAkFC,MAAlF,EAA0FC,MAA1F,EAAkGC,GAAlG,EAAuGC,aAAvG,EAAsHC,IAAtH,EAA6HC,IAA7H,EAAoIC,OAApI,EAA8IC,UAA9I,EAA2JC,KAA3J,EAAmKC,MAAnK,EAA4KC,KAA5K,EAAoLC,IAApL,EAA0LC,MAA1L,EAAkMC,UAAlM,EAA8MC,SAA9M,EAAyNC,MAAzN,EAAiOC,kBAAjO,EAAqPC,MAArP,EAA6PC,iBAA7P,EAAgRC,kBAAhR,EAAoSC,WAApS,EAAiTC,IAAjT,EACCC,QADD,EACWC,aADX,EAC0BC,QAD1B,EACoCC,WADpC,EACiDC,eADjD,EACkEC,gBADlE,EACoFC,UADpF,EACgGC,WADhG,EAC6GC,IAD7G,EACmHC,QADnH,EAC6HC,GAD7H,EACkIC,OADlI,QACkJ,iBADlJ;AAGA,OAAOC,yBAAP,MAAsC,gDAAtC;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,wBAAP,MAAqC,8CAArC;AACA,OAAOC,mBAAP,MAAgC,yCAAhC;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AAEA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,uBAAP,MAAoC,8BAApC;AACA,OAAOC,kBAAP,MAA+B,wBAA/B;AACA,OAAOC,oBAAP,MAAiC,4BAAjC;AACA,SAAQC,MAAR,QAAqB,qBAArB;AAEA,OAAOC,WAAP,MAAwB,aAAxB;AAEA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,EAAP,MAAe,cAAf;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AAEA,MAAMC,cAAc,GAAG;AACtBC,EAAAA,eAAe,EAAE;AADK,CAAvB;AAAA,MAEGC,aAAa,GAAG;AAClBD,EAAAA,eAAe,EAAE;AADC,CAFnB;AAAA,MAIGE,EAAE,GAAGxD,QAAQ,EAJhB;;AAOA,MAAMyD,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMC,GAAN,SAAkBrG,KAAK,CAACsG,SAAxB,CAAkC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAwDnBC,IAxDmB,GAwDZ,MAAM;AACZ,UAAG,KAAKC,KAAL,CAAWC,MAAX,KAAsB,IAAzB,EAA8B;AAC7B,aAAKC,QAAL,CAAc;AAAED,UAAAA,MAAM,EAAE;AAAV,SAAd;AACA;AACA;;AAJW,wBAKmB,KAAKD,KALxB;AAAA,UAKNG,WALM,eAKNA,WALM;AAAA,UAKOC,OALP,eAKOA,OALP;;AAMZ,UAAGD,WAAW,KAAK,MAAnB,EAA0B;AACzB5G,QAAAA,MAAM,CAAC8G,IAAP,CAAY,eAAZ,EAA6B;AAAC,oBAAU;AAAX,SAA7B;AACA,OAFD,MAEM;AACL,YAAGD,OAAO,CAACE,MAAR,KAAmB,CAAtB,EAAyB;AACxB/G,UAAAA,MAAM,CAAC8G,IAAP,CAAY,eAAZ,EAA6B;AAAC,sBAAU;AAAX,WAA7B;AACA,SAFD,MAEO,IAAID,OAAO,CAACE,MAAR,GAAiB,CAArB,EAAwB;AAC9BF,UAAAA,OAAO,CAACG,GAAR;AACAJ,UAAAA,WAAW,GAAGC,OAAO,CAACA,OAAO,CAACE,MAAR,GAAiB,CAAlB,CAArB;AACA,eAAKJ,QAAL,CAAc;AAACC,YAAAA;AAAD,WAAd;AACA,eAAKK,WAAL,CAAiBL,WAAjB;AACA;AACD;AACD,KA1EkB;;AAGlB,SAAKH,KAAL,GAAa;AACZC,MAAAA,MAAM,EAAE,IADI;AAEZG,MAAAA,OAAO,EAAE,CAAC,MAAD,CAFG;AAGZD,MAAAA,WAAW,EAAE,MAHD;AAKZM,MAAAA,eAAe,EAAE,KALL;AAMZC,MAAAA,WAAW,EAAE,CAND;AAOZC,MAAAA,qBAAqB,EAAE,KAPX;AAQZC,MAAAA,mBAAmB,EAAE,EART;AAUZC,MAAAA,KAAK,EAAE,sEAVK;AAWZC,MAAAA,YAAY,EAAE;AAXF,KAAb;AAcA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKjB,IAAL,GAAY,KAAKA,IAAL,CAAUiB,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKE,EAAL,GAAU,KAAKA,EAAL,CAAQF,IAAR,CAAa,IAAb,CAAV;AACA,SAAKR,WAAL,GAAmB,KAAKA,WAAL,CAAiBQ,IAAjB,CAAsB,IAAtB,CAAnB,CArBkB,CAsBlB;AACA;;AAED,QAAMD,iBAAN,GAA2B;AAE1B,QAAII,IAAI,GAAG,MAAM5H,MAAM,CAAC6H,WAAP,CAAmB,qBAAnB,CAAjB;AACA,SAAKlB,QAAL,CAAc;AAAEW,MAAAA,KAAK,EAAEM,IAAI,CAACE,cAAd;AAA8BC,MAAAA,IAAI,EAAEH,IAAI,CAACI,UAAL,GAAkB,GAAlB,GAAwBJ,IAAI,CAACK;AAAjE,KAAd;AAEAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoCC,CAAC,IAAI;AACxCA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAK7B,IAAL,CAAU4B,CAAV;AACA,KAHD;AAKApI,IAAAA,MAAM,CAACsI,SAAP,CAAiB,OAAO;AAAEC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR;AAAV,KAAP,KAAqC;AACrD,UAAGD,IAAI,KAAKE,SAAZ,EAAuBC,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,IAAlB;;AACvB,UAAID,IAAI,KAAK,sBAAb,EAAqC;AACpC,cAAMK,eAAe,GAAGC,QAAQ,CAACC,eAAT,CAAyB,QAAzB,CAAxB;AACAF,QAAAA,eAAe,CAACG,KAAhB,GAAwBP,IAAI,CAACQ,MAAL,GAAcR,IAAI,CAACQ,MAAnB,GAA4B,cAApD;AACAH,QAAAA,QAAQ,CAACI,IAAT,CAAcC,UAAd,CAAyBC,YAAzB,CAAsCP,eAAtC;AACA;AACD,KAPD;AAQA,SAAKnB,aAAL;AACA;;AAEDA,EAAAA,aAAa,GAAG;AACf,QAAI2B,IAAI,GAAGnB,MAAM,CAACoB,QAAP,CAAgBD,IAA3B;;AACA,QAAIA,IAAJ,EAAU;AACTA,MAAAA,IAAI,GAAGA,IAAI,CAACE,OAAL,CAAa,GAAb,EAAiB,EAAjB,CAAP;AACA,WAAK5B,EAAL,CAAQ0B,IAAR;AACA,KAHD,MAGK;AACJ,WAAKpC,WAAL,CAAiB,MAAjB;AACA;AACD;;AAqBDU,EAAAA,EAAE,CAAC6B,KAAD,EAAQ;AACT,QAAI3C,OAAO,GAAG,KAAKJ,KAAL,CAAWI,OAAzB;;AACA,QAAGA,OAAO,CAACA,OAAO,CAACE,MAAR,GAAe,CAAhB,CAAP,KAA8ByC,KAAjC,EAAwC;AACvC3C,MAAAA,OAAO,CAAC4C,IAAR,CAAaD,KAAb;AACAtB,MAAAA,MAAM,CAACrB,OAAP,CAAe6C,SAAf,CAAyB;AAAC9C,QAAAA,WAAW,EAAE4C;AAAd,OAAzB,EAA+C,OAA/C;AACA,WAAK7C,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAE4C,KAAd;AAAqB3C,QAAAA,OAArB;AAA8B8C,QAAAA,QAAQ,EAAE;AAAxC,OAAd;AACA;;AACD,SAAK1C,WAAL,CAAiBuC,KAAjB;AACA;;AACDvC,EAAAA,WAAW,CAAEuC,KAAF,EAAQ;AAClBxJ,IAAAA,MAAM,CAAC8G,IAAP,CAAY,qBAAZ,EAAmC;AAAC,kBAAY0C;AAAb,KAAnC;AACA;;AAED,QAAMI,YAAN,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,KAAhC,EAAuCC,MAAvC,EAA+CC,aAA/C,EAA6D;AAC5D,SAAKtD,QAAL,CAAc;AAAEgD,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA,UAAM,KAAKO,KAAL,CAAW,EAAX,CAAN;AACA,QAAGD,aAAa,KAAK,IAArB,EAA2BA,aAAa,GAAG,MAAK,CAAE,CAAvB;AAC3B,SAAKtD,QAAL,CAAc;AAAEgD,MAAAA,QAAQ,EACtB,oBAAC,QAAD;AACC,QAAA,MAAM,EAAC,UADR;AAEC,QAAA,OAAO,EAAE,MAAM,KAAKhD,QAAL,CAAc;AAAEgD,UAAAA,QAAQ,EAAE;AAAZ,SAAd,CAFhB;AAGC,QAAA,MAAM,EAAE,oBAAC,MAAD;AAAQ,UAAA,IAAI,EAAE,EAAd;AAAkB,UAAA,KAAK,EAAEI,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiCD,IAAjC,CAHT;AAIC,QAAA,MAAM,EAAEE,MAJT;AAKC,QAAA,aAAa,EAAEC,aALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOEJ,IAPF;AADY,KAAd;AAWA;;AACDK,EAAAA,KAAK,CAACC,EAAD,EAAK;AACT,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACA;;AAED,QAAMI,UAAN,CAAiBC,OAAjB,EAA0BC,GAA1B,EAA+B;AAC9B,QAAIC,GAAG,GAAGD,GAAG,CAACE,MAAJ,IAAczC,MAAM,CAAC0C,KAAP,CAAaC,UAArC;AAAA,QACCC,KAAK,GAAGJ,GAAG,CAACI,KADb;AAEA,UAAMC,CAAC,GAAG,IAAV;;AAEA,QAAIC,UAAU,IAAIF,KAAd,IAAuBA,KAAK,CAAC/D,MAAjC,EAAyC;AACxC,WAAK,IAAIkE,IAAT,IAAiBH,KAAjB,EAAwB;AACvB,YAAItG,EAAE,GAAG,IAAIwG,UAAJ,EAAT;;AACAxG,QAAAA,EAAE,CAAC0G,MAAH,GAAY,kBAAkB;AAC7B,cAAIC,GAAG,GAAG3G,EAAE,CAAC4G,MAAb,CAD6B,CACR;;AACrB,cAAIH,IAAI,CAACzC,IAAL,CAAU6C,QAAV,CAAmB,OAAnB,CAAJ,EAAiC;AAChC,gBAAIC,KAAK,GAAG,IAAIC,KAAJ,EAAZ;AACAD,YAAAA,KAAK,CAACE,GAAN,GAAYL,GAAZ;;AACAG,YAAAA,KAAK,CAACJ,MAAN,GAAe,kBAAiB;AAC/B,kBAAG;AACF,sBAAMlL,MAAM,CAAC8G,IAAP,CAAY,gCAAZ,EAA8C;AAAC2E,kBAAAA,QAAQ,EAAE,SAAX;AAAsBC,kBAAAA,GAAG,EAAE;AAA3B,iBAA9C,CAAN;AACA,eAFD,CAEC,OAAOtD,CAAP,EAAU;AACV,qBAAKzB,QAAL,CAAc;AAAEgD,kBAAAA,QAAQ,EACtB,oBAAC,QAAD;AACC,oBAAA,MAAM,EAAC,UADR;AAEC,oBAAA,OAAO,EAAE,MAAM,KAAKhD,QAAL,CAAc;AAAEgD,sBAAAA,QAAQ,EAAE;AAAZ,qBAAd,CAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADY,iBAAd;AAQA;AACA;;AAED,kBAAIgC,MAAM,GAAG7C,QAAQ,CAAC8C,aAAT,CAAuB,QAAvB,CAAb;AAAA,kBACCC,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CADP;AAEAH,cAAAA,MAAM,CAACI,MAAP,GAAgB,GAAhB;AACAJ,cAAAA,MAAM,CAACK,KAAP,GAAe,GAAf;AACAH,cAAAA,GAAG,CAACI,SAAJ,CAAcX,KAAd,EAAqB,CAArB,EAAwB,CAAxB,EAA2BA,KAAK,CAACU,KAAjC,EAAwCV,KAAK,CAACS,MAA9C,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,GAA5D,EAAiE,GAAjE;AACAhB,cAAAA,CAAC,CAACpE,QAAF,CAAW;AAAE,iBAAC6D,OAAD,GAAWW,GAAb;AAAkB5D,gBAAAA,YAAY,EAAE;AAAhC,eAAX;AAEA,mBAAKZ,QAAL,CAAc;AAAEuF,gBAAAA,OAAO,EAAE;AAAX,eAAd;AACA5B,cAAAA,UAAU,CAAC,MAAI;AACd,qBAAK3D,QAAL,CAAc;AAAEuF,kBAAAA,OAAO,EAAE;AAAX,iBAAd;AACA,eAFS,EAEP,IAFO,CAAV;AAGA,kBAAIC,QAAQ,GAAG,GAAf;AACA,kBAAIC,EAAE,GAAGlG,MAAM,CAACmG,GAAP,CAAW,CAAX,EAAc,CAAd,CAAT;AAA2BF,cAAAA,QAAQ,IAAIC,EAAZ;AAC3B,kBAAIE,EAAE,GAAGpG,MAAM,CAACmG,GAAP,CAAW,CAAX,EAAc,EAAd,CAAT;AAA4BF,cAAAA,QAAQ,IAAIG,EAAZ;AAC5B,kBAAIC,EAAE,GAAGrG,MAAM,CAACmG,GAAP,CAAW,EAAX,EAAe,EAAf,CAAT;AAA6BF,cAAAA,QAAQ,IAAII,EAAZ;AAC7B,kBAAIC,EAAE,GAAGL,QAAT;AAEA,kBAAIM,OAAO,GAAG,CACb,CACC,CAAE,QAAF,EAAYhJ,EAAZ,CADD,EAEC,CAAE,SAAF,EAAaC,GAAb,CAFD,EAGC,CAAE,QAAF,EAAYC,EAAZ,CAHD,EAIC,CAAE,QAAF,EAAYC,EAAZ,CAJD,EAKC,CAAE,WAAF,EAAeC,GAAf,CALD,EAMC,CAAE,UAAF,EAAcC,IAAd,CAND,EAOC,CAAE,UAAF,EAAcC,IAAd,CAPD,EAQC,CAAE,QAAF,EAAYC,IAAZ,CARD,CADa,EAWb,CACC,CAAE,SAAF,EAAaC,IAAb,CADD,EAEC,CAAE,SAAF,EAAaC,EAAb,CAFD,EAGC,CAAE,QAAF,EAAYC,EAAZ,CAHD,EAIC,CAAE,WAAF,EAAeC,EAAf,CAJD,EAKC,CAAE,QAAF,EAAYC,EAAZ,CALD,EAMC,CAAE,UAAF,EAAcC,IAAd,CAND,EAOC,CAAE,SAAF,EAAaC,GAAb,CAPD,EAQC,CAAE,SAAF,EAAaC,EAAb,CARD,EASC,CAAE,WAAF,EAAeC,EAAf,CATD,EAUC,CAAE,KAAF,EAASC,EAAT,CAVD,EAWC,CAAE,SAAF,EAAaC,KAAb,CAXD,CAXa,EAwBb,CACC,CAAE,WAAF,EAAeC,EAAf,CADD,EAEC,CAAE,QAAF,EAAYC,EAAZ,CAFD,EAGC,CAAE,UAAF,EAAcC,EAAd,CAHD,EAIC,CAAE,SAAF,EAAaC,EAAb,CAJD,EAKC,CAAE,UAAF,EAAcC,GAAd,CALD,EAMC,CAAE,OAAF,EAAWC,GAAX,CAND,EAOC,CAAE,UAAF,EAAcC,IAAd,CAPD,CAxBa,EAiCb,CACC,CAAE,QAAF,EAAYC,EAAZ,CADD,EAEC,CAAE,OAAF,EAAWC,EAAX,CAFD,EAGC,CAAE,OAAF,EAAWC,GAAX,CAHD,EAIC,CAAE,mBAAF,EAAuBC,IAAvB,CAJD,EAKC,CAAE,QAAF,EAAYC,GAAZ,CALD,EAMC,CAAE,UAAF,EAAcC,EAAd,CAND,EAOC,CAAE,WAAF,EAAeC,GAAf,CAPD,EAQC,CAAE,OAAF,EAAWC,GAAX,CARD,EASC,CAAE,QAAF,EAAYC,EAAZ,CATD,EAUC,CAAE,OAAF,EAAWC,GAAX,CAVD,EAWC,CAAE,SAAF,EAAaC,GAAb,CAXD,CAjCa,CAAd;AA+CA,kBAAI6G,EAAE,GAAGD,OAAO,CAAC,CAAD,CAAP,CAAWvG,MAAM,CAACmG,GAAP,CAAW,CAAX,EAAcI,OAAO,CAAC,CAAD,CAAP,CAAW1F,MAAX,GAAkB,CAAhC,CAAX,CAAT;AACA,kBAAI4F,EAAE,GAAGD,EAAE,KAAKD,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAP,GAAuBA,OAAO,CAAC,CAAD,CAAP,CAAWvG,MAAM,CAACmG,GAAP,CAAW,CAAX,EAAcI,OAAO,CAAC,CAAD,CAAP,CAAW1F,MAAX,GAAkB,CAAhC,CAAX,CAAvB,GAAwE0F,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAjF;AACA,kBAAIG,EAAE,GAAGH,OAAO,CAAC,CAAD,CAAP,CAAWvG,MAAM,CAACmG,GAAP,CAAW,CAAX,EAAcI,OAAO,CAAC,CAAD,CAAP,CAAW1F,MAAX,GAAkB,CAAhC,CAAX,CAAT;AACA,kBAAI8F,EAAE,GAAGJ,OAAO,CAAC,CAAD,CAAP,CAAWvG,MAAM,CAACmG,GAAP,CAAW,CAAX,EAAcI,OAAO,CAAC,CAAD,CAAP,CAAW1F,MAAX,GAAkB,CAAhC,CAAX,CAAT;AAEA,mBAAKJ,QAAL,CAAc;AAAE6F,gBAAAA,EAAF;AAAMD,gBAAAA,EAAN;AAAUD,gBAAAA,EAAV;AAAcF,gBAAAA,EAAd;AAAkBM,gBAAAA,EAAlB;AAAsBC,gBAAAA,EAAtB;AAA0BC,gBAAAA,EAA1B;AAA8BC,gBAAAA,EAA9B;AAAkCtF,gBAAAA,YAAY,EAAE;AAAhD,eAAd;AACA,aArFc,CAqFbE,IArFa,CAqFR,IArFQ,CAAf;AAsFA,WAzFD,MAyFO;AACNsD,YAAAA,CAAC,CAACnB,YAAF,CAAe,gDAAf,EAAiE,oBAAC,yBAAD;AAA2B,cAAA,IAAI,EAAC,MAAhC;AAAuC,cAAA,KAAK,EAAE,EAA9C;AAAkD,cAAA,MAAM,EAAE,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAjE,EAAmI5D,aAAnI;AAEA;AACD,SA/FW,CA+FVyB,IA/FU,CA+FL,IA/FK,CAAZ;;AAgGA,cAAMjD,EAAE,CAACsI,aAAH,CAAiB7B,IAAjB,CAAN;AACA;AACD,KArGD,CAsGA;AAtGA,SAuGK,CACJ;AACA;AACA;AACD;;AAED8B,EAAAA,gBAAgB,CAAC/D,KAAD,EAAQ;AACvB,QAAIgE,KAAK,GAAGhE,KAAK,CAACiE,KAAN,CAAY,mBAAZ,CAAZ;AACA,QAAIC,CAAC,GAAGC,MAAM,CAACH,KAAK,CAAC,CAAD,CAAN,CAAd;AACA,QAAII,IAAI,GAAGlF,MAAM,CAAC,CAAC,aAAD,EAAgB,YAAhB,EAA8B,CAAC,IAAD,EAAO,IAAP,EAAamF,OAAb,CAAqBL,KAAK,CAAC,CAAD,CAA1B,CAA9B,CAAD,CAAjB;AACA,WAAOI,IAAI,IAAIF,CAAC,GAAC,GAAN,CAAX;AACA;;AAEDI,EAAAA,MAAM,GAAG;AACR,WACC,oBAAC,IAAD;AAAM,MAAA,WAAW,EAAE,KAAK7G,KAAL,CAAWG,WAA9B;AAA2C,MAAA,MAAM,EAAE,KAAKH,KAAL,CAAWC,MAA9D;AAAsE,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWI,OAA1F;AAAmG,MAAA,WAAW,EAAE,KAAKL,IAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,EAEC,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAE,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AAAiD,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKmB,EAAL,CAAQ,QAAR;AAAmB,OAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADD,EAIC,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AAA4C,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKA,EAAL,CAAQ,OAAR;AAAkB,OAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAJD,EAOC,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AAA2C,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKA,EAAL,CAAQ,WAAR;AAAsB,OAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAPD,CAFD,CADD,EAeC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADD,EAEC,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAE1B,EAAE,KAAKtD,OAAP,GAAiB,SAAjB,GAA6BsD,EAAE,KAAKvD,GAAP,GAAa,SAAb,GAAyBuD,EAAE,CAACsH,QAAH,EAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAFD,EAKC,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAI;AAAE,aAAK5G,QAAL,CAAc;AAAE6G,UAAAA,eAAe,EAAE,CAAC,KAAK/G,KAAL,CAAW+G;AAA/B,SAAd;AAAkE,OAAvF;AAAyF,MAAA,YAAY,EAAE,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,mBAAY,KAAKhH,KAAL,CAAW+G,eAAX,GAA6B,QAA7B,GAAwC,GAApD;AAAX,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADD,EAGE,KAAK/G,KAAL,CAAW+G,eAAX,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,KAAK,EAAE;AAAEE,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE,UAAnC;AAA+CC,QAAAA,SAAS,EAAE;AAA1D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,MAAI;AACnC5N,QAAAA,MAAM,CAAC8G,IAAP,CAAY,gBAAZ,EAA8B,EAA9B,EAAkC+G,IAAlC,CAAuCpF,IAAI,IAAI;AAC9C,eAAK9B,QAAL,CAAc;AAAEmH,YAAAA,WAAW,EAAE,oBAAC,WAAD;AAAa,cAAA,OAAO,EAAE,MAAM;AAAE,qBAAKnH,QAAL,CAAc;AAACmH,kBAAAA,WAAW,EAAE;AAAd,iBAAd;AAAqC,eAAnE;AAAqE,cAAA,UAAU,EAAErF,IAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,WAAd;AACA,SAFD;AAGA,OAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DADD,EAMC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEsF,QAAAA,UAAU,EAAE,KAAd;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAf;AAA0D,MAAA,IAAI,EAAC,WAA/D;AAA2E,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKrH,QAAL,CAAc;AAACmH,UAAAA,WAAW,EAAE;AAAd,SAAd;AAAqC,OAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAND,CADD,EASC,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEF,QAAAA,SAAS,EAAE;AAAb,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATD,CAJF,EAgBC,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAI;AAAE,YAAG3H,EAAE,KAAKtD,OAAV,EAAkB;AAAE,eAAKgE,QAAL,CAAc;AAAEO,YAAAA,eAAe,EAAE,CAAC,KAAKT,KAAL,CAAWS;AAA/B,WAAd;AAAiE,SAArF,MAAyF;AAAE,eAAK0C,YAAL,CAAkB,4BAAlB,EAAgD,oBAAC,yBAAD;AAA2B,YAAA,IAAI,EAAE,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhD,EAA4F5D,aAA5F;AAA4G;AAAE,OAA9N;AAAgO,MAAA,YAAY,EAAE,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAE;AAAEyH,UAAAA,SAAS,mBAAY,KAAKhH,KAAL,CAAWS,eAAX,GAA6B,QAA7B,GAAwC,GAApD;AAAX,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9O;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFAhBD,EAkBE,KAAKT,KAAL,CAAWS,eAAX,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,KAAK,EAAE;AAAEwG,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE,UAAnC;AAA+CC,QAAAA,SAAS,EAAE;AAA1D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,MAAI;AAAE5N,QAAAA,MAAM,CAAC8G,IAAP,CAAY,uBAAZ,EAAqC;AAACmH,UAAAA,SAAS,EAAC;AAAX,SAArC;AAA+D,OAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,EAEC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEF,QAAAA,UAAU,EAAE;AAAd,OAAf;AAAuC,MAAA,IAAI,EAAC,SAA5C;AAAsD,MAAA,OAAO,EAAE,MAAI;AAAE/N,QAAAA,MAAM,CAAC8G,IAAP,CAAY,uBAAZ,EAAqC;AAACmH,UAAAA,SAAS,EAAC;AAAX,SAArC;AAA4D,OAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,EAGC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEF,QAAAA,UAAU,EAAE,KAAd;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAf;AAA2D,MAAA,IAAI,EAAC,SAAhE;AAA0E,MAAA,OAAO,EAAE,MAAI;AAAEhO,QAAAA,MAAM,CAAC8G,IAAP,CAAY,uBAAZ,EAAqC;AAACmH,UAAAA,SAAS,EAAC;AAAX,SAArC;AAAkE,OAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD,CADD,EAMC,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEL,QAAAA,SAAS,EAAE;AAAb,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,CAnBH,CALD,EAmCE,KAAKnH,KAAL,CAAWqH,WAAX,IACA,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKrH,KAAL,CAAWqH,WADb,CApCF,EAwCE,KAAKrH,KAAL,CAAWkD,QAxCb,CAfD,EAyDC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADD,EAEC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AACC,MAAA,GAAG,EAAE,CADN;AAEC,MAAA,GAAG,EAAE,CAFN;AAGC,MAAA,KAAK,EAAEwD,MAAM,CAAC,KAAK1G,KAAL,CAAWU,WAAZ,CAHd;AAIC,MAAA,QAAQ,EAAE,MAAMA,WAAN,IAAqB;AAC9B,aAAKR,QAAL,CAAc;AAACQ,UAAAA;AAAD,SAAd;AACA,cAAMnH,MAAM,CAAC8G,IAAP,CAAY,uBAAZ,EAAqC;AAACoH,UAAAA,KAAK,EAAE/G;AAAR,SAArC,CAAN;AACA,OAPF;AAQC,MAAA,GAAG,EAAEgH,MAAM,CAAC,KAAK1H,KAAL,CAAWU,WAAZ,CARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAWC,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AAAM,MAAA,YAAY,EAAE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWW,qBAA5B;AAAmD,QAAA,QAAQ,EAAG,YAAW;AAC5F,cAAG,KAAKX,KAAL,CAAWU,WAAX,GAAyB,CAA5B,EAA+B;AAC9B,kBAAM,KAAKR,QAAL,CAAc;AAACS,cAAAA,qBAAqB,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAApC,aAAd,CAAN;AAEA,gBAAIgH,QAAQ,GAAG,KAAK3H,KAAL,CAAW2H,QAAX,GAAsB,KAAK3H,KAAL,CAAW2H,QAAjC,GAA4C,IAA3D;;AACA,gBAAI;AAACC,cAAAA,aAAa,CAACD,QAAD,CAAb;AAAyB,aAA9B,CAA+B,OAAOhG,CAAP,EAAU,CAAE;;AAC3CO,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKnC,KAAL,CAAWW,qBAAvB;;AACA,gBAAI,KAAKX,KAAL,CAAWW,qBAAf,EAAsC;AACrCgH,cAAAA,QAAQ,GAAGE,WAAW,CAAC,YAAY;AAClC,oBAAG,KAAK7H,KAAL,CAAWW,qBAAd,EAAqC;AACpC,wBAAMpH,MAAM,CAAC8G,IAAP,CAAY,uBAAZ,EAAqC;AAACoH,oBAAAA,KAAK,EAAE;AAAR,mBAArC,CAAN;AACA,wBAAMlO,MAAM,CAAC8G,IAAP,CAAY,uBAAZ,EAAqC;AAACoH,oBAAAA,KAAK,EAAE,KAAKzH,KAAL,CAAWU;AAAnB,mBAArC,CAAN;AACA;AACD,eALqB,EAKnB,KAAKV,KAAL,CAAWY,mBALQ,CAAtB;AAMA;;AACD,iBAAKV,QAAL,CAAc;AAACyH,cAAAA;AAAD,aAAd;AACA,WAfD,MAeK;AACJ,iBAAKxE,YAAL,CAAkB,4CAAlB,EAAgE,oBAAC,yBAAD;AAA2B,cAAA,IAAI,EAAE,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhE,EAA4G5D,aAA5G;AACA;AACD,SAnBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADD,EAuBC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEmI,MAAM,CAAC,KAAK1H,KAAL,CAAWY,mBAAZ,CAApB;AAAsD,MAAA,QAAQ,EAAEe,CAAC,IAAI;AAAE,YAAGA,CAAC,CAACuC,MAAF,CAAS3B,KAAT,IAAkB,EAArB,EAAyB,KAAKrC,QAAL,CAAc;AAAEU,UAAAA,mBAAmB,EAAEe,CAAC,CAACuC,MAAF,CAAS3B;AAAhC,SAAd,EAAzB,KAAsF,KAAKY,YAAL,CAAkB,2BAAlB,EAA+C,oBAAC,yBAAD;AAA2B,UAAA,IAAI,EAAE,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA/C,EAA2F5D,aAA3F;AAA4G,OAAzQ;AAA2Q,MAAA,IAAI,EAAC,QAAhR;AAAyR,MAAA,GAAG,EAAC,+CAA7R;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBD,CAXD,EAoCE,KAAKS,KAAL,CAAWkD,QApCb,CAFD,CAzDD,EAkGC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE,MAAMvB,CAAN,IAAW;AAC5B,aAAKmC,UAAL,CAAgB,OAAhB,EAAyBnC,CAAzB;AACA,OAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGC;AAAK,MAAA,KAAK,EAAE;AAAEmG,QAAAA,UAAU,EAAE,OAAd;AAAuBxC,QAAAA,MAAM,EAAE;AAA/B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,KAAK,EAAE;AAAEyC,QAAAA,UAAU,EAAE;AAAd,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,WAAW,EAAE,WAArB;AAAkC,MAAA,MAAM,EAAE,KAA1C;AAAiD,MAAA,IAAI,EAAE,KAAKzB,gBAAL,CAAsB,MAAtB,CAAvD;AAAsF,MAAA,IAAI,EAAC,KAA3F;AAAiG,MAAA,GAAG,EAAE,KAAKtG,KAAL,CAAWa,KAAjH;AAAwH,MAAA,SAAS,EAAC,UAAlI;AAA6I,MAAA,KAAK,EAAE;AAAEmH,QAAAA,YAAY,EAAE;AAAhB,OAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEG,SAAS,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAC,GAAb;AAAiB,MAAA,MAAM,EAAC,QAAxB;AAAiC,MAAA,SAAS,EAAC,UAA3C;AAAsD,MAAA,KAAK,EAAE;AAAEb,QAAAA,SAAS,EAAE;AAAb,OAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiF,KAAKnH,KAAL,CAAWsB,IAA5F,CAFZ,CADD,CAHD,CADD,EAWC;AAAK,MAAA,KAAK,EAAE;AAAE2G,QAAAA,mBAAmB,EAAE,KAAvB;AAA8BC,QAAAA,oBAAoB,EAAE,KAApD;AAA2D5C,QAAAA,MAAM,EAAE,MAAnE;AAA2EwC,QAAAA,UAAU,EAAE;AAAvF,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,KAAK9H,KAAL,CAAWyF,OAAX,GACC;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,oCAAlB;AAAuD,MAAA,KAAK,EAAE;AAAE0C,QAAAA,aAAa,EAAE,MAAjB;AAAyBC,QAAAA,MAAM,EAAE,CAAC,CAAlC;AAAqCpB,QAAAA,SAAS,EAAE;AAAhD,OAA9D;AAAmI,MAAA,OAAO,EAAE;AAACqB,QAAAA,IAAI,EAAE,IAAP;AAC3IC,QAAAA,QAAQ,EAAE,IADiI;AAE3IC,QAAAA,aAAa,EAAE3L,oBAF4H;AAG3I4L,QAAAA,gBAAgB,EAAE;AACjBC,UAAAA,mBAAmB,EAAE;AADJ;AAHyH,OAA5I;AAKK,MAAA,MAAM,EAAE,OALb;AAKsB,MAAA,KAAK,EAAE,OAL7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,GAWC,KAAKzI,KAAL,CAAWc,YAAX,GACC,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,KAAK,EAAE;AAAEqH,QAAAA,aAAa,EAAE,MAAjB;AAAyBC,QAAAA,MAAM,EAAE,CAAC,CAAlC;AAAqCpB,QAAAA,SAAS,EAAE;AAAhD,OAA7C;AAAkH,MAAA,OAAO,EAAE;AAACqB,QAAAA,IAAI,EAAE,IAAP;AAC1HC,QAAAA,QAAQ,EAAE,IADgH;AAE1HC,QAAAA,aAAa,EAAE7L,uBAF2G;AAG1H8L,QAAAA,gBAAgB,EAAE;AACjBC,UAAAA,mBAAmB,EAAE;AADJ;AAHwG,OAA3H;AAKK,MAAA,MAAM,EAAE,MALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GASC;AAAK,MAAA,KAAK,EAAE;AAAElD,QAAAA,KAAK,EAAE,OAAT;AAAkBD,QAAAA,MAAM,EAAE,MAA1B;AAAkCoD,QAAAA,eAAe,gBAAS3L,KAAT,MAAjD;AAAoE4L,QAAAA,gBAAgB,EAAE,QAAtF;AAAgGC,QAAAA,OAAO,EAAE;AAAzG,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBJ,EAyBE,CAAC,KAAK5I,KAAL,CAAWyF,OAAZ,IACA;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAoD,MAAA,KAAK,EAAE;AAAEF,QAAAA,KAAK,EAAE;AAAT,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,KAAKvF,KAAL,CAAWc,YAAX,GACC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE,MAAMa,CAAN,IAAW;AAC5B,aAAKmC,UAAL,CAAgB,OAAhB,EAAyBnC,CAAzB;AACA,OAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE;AAAEkH,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,SAAS,EAAE;AAA7B,OAAd;AAAuD,MAAA,KAAK,EAAC,GAA7D;AAAiE,MAAA,MAAM,EAAC,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+cAHD,EAIC;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,KAAK,EAAE;AAAE3B,QAAAA,SAAS,EAAE;AAAb,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwD,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAAxD,CAJD,CADD,GAQC;AAAK,MAAA,KAAK,EAAE;AAAE4B,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,GAAG,EAAE,MAA7B;AAAqCC,QAAAA,IAAI,EAAE,KAA3C;AAAkDjC,QAAAA,SAAS,EAAE,kBAA7D;AAAiFzB,QAAAA,KAAK,EAAE;AAAxF,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,WAAW,EAAE,WAAlB;AAA+B,MAAA,GAAG,EAAE,KAAKvF,KAAL,CAAWiG,EAAX,CAAc,CAAd,CAApC;AAAsD,MAAA,MAAM,EAAE,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAEX,QAAAA,MAAM,EAAE,KAAV;AAAiBwC,QAAAA,UAAU,EAAE,4CAA7B;AAA2EvC,QAAAA,KAAK,EAAE;AAAlF,OAAnB;AAA+G,MAAA,QAAQ,MAAvH;AACG,MAAA,SAAS,EAAE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,CAAd;AAAiB,QAAA,MAAM,EAAC,QAAxB;AAAiC,QAAA,KAAK,EAAE;AAAEsD,UAAAA,KAAK,EAAE;AAAT,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6D,KAAK7I,KAAL,CAAW+F,EAAxE,MADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE,CAAd;AAAiB,MAAA,MAAM,EAAC,QAAxB;AAAiC,MAAA,KAAK,EAAE;AAAE8C,QAAAA,KAAK,EAAE,OAAT;AAAkB5B,QAAAA,OAAO,EAAE,MAA3B;AAAmCiC,QAAAA,UAAU,EAAE;AAA/C,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKlJ,KAAL,CAAWiG,EAAX,CAAc,CAAd,CADF,CAFD,CAFD,CADD,EAUC;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,KAAK,EAAE;AAAEkB,QAAAA,SAAS,EAAE;AAAb,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,WAAW,EAAE,WAAlB;AAA+B,MAAA,GAAG,EAAE,KAAKnH,KAAL,CAAWkG,EAAX,CAAc,CAAd,CAApC;AAAsD,MAAA,MAAM,EAAE,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAEZ,QAAAA,MAAM,EAAE,KAAV;AAAiBwC,QAAAA,UAAU,EAAE,4CAA7B;AAA2EvC,QAAAA,KAAK,EAAE;AAAlF,OAAnB;AAA+G,MAAA,QAAQ,MAAvH;AACG,MAAA,SAAS,EAAE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,CAAd;AAAiB,QAAA,MAAM,EAAC,QAAxB;AAAiC,QAAA,KAAK,EAAE;AAAEsD,UAAAA,KAAK,EAAE;AAAT,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6D,KAAK7I,KAAL,CAAW8F,EAAxE,MADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE,CAAd;AAAiB,MAAA,MAAM,EAAC,QAAxB;AAAiC,MAAA,KAAK,EAAE;AAAE+C,QAAAA,KAAK,EAAE,OAAT;AAAkB5B,QAAAA,OAAO,EAAE,MAA3B;AAAmCiC,QAAAA,UAAU,EAAE;AAA/C,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKlJ,KAAL,CAAWkG,EAAX,CAAc,CAAd,CADF,CAFD,CAFD,CAVD,EAmBC;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,KAAK,EAAE;AAAEiB,QAAAA,SAAS,EAAE;AAAb,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,WAAW,EAAE,WAAlB;AAA+B,MAAA,GAAG,EAAE,KAAKnH,KAAL,CAAWmG,EAAX,CAAc,CAAd,CAApC;AAAsD,MAAA,MAAM,EAAE,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAEb,QAAAA,MAAM,EAAE,KAAV;AAAiBwC,QAAAA,UAAU,EAAE,4CAA7B;AAA2EvC,QAAAA,KAAK,EAAE;AAAlF,OAAnB;AAA+G,MAAA,QAAQ,MAAvH;AACG,MAAA,SAAS,EAAE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,CAAd;AAAiB,QAAA,MAAM,EAAC,QAAxB;AAAiC,QAAA,KAAK,EAAE;AAAEsD,UAAAA,KAAK,EAAE;AAAT,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6D,KAAK7I,KAAL,CAAW6F,EAAxE,MADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE,CAAd;AAAiB,MAAA,MAAM,EAAC,QAAxB;AAAiC,MAAA,KAAK,EAAE;AAAEgD,QAAAA,KAAK,EAAE,OAAT;AAAkB5B,QAAAA,OAAO,EAAE,MAA3B;AAAmCiC,QAAAA,UAAU,EAAE;AAA/C,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKlJ,KAAL,CAAWmG,EAAX,CAAc,CAAd,CADF,CAFD,CAFD,CAnBD,EA4BC;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,KAAK,EAAE;AAAEgB,QAAAA,SAAS,EAAE;AAAb,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,WAAW,EAAE,WAAlB;AAA+B,MAAA,GAAG,EAAE,KAAKnH,KAAL,CAAWoG,EAAX,CAAc,CAAd,CAApC;AAAsD,MAAA,MAAM,EAAE,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAEd,QAAAA,MAAM,EAAE,KAAV;AAAiBwC,QAAAA,UAAU,EAAE,4CAA7B;AAA2EvC,QAAAA,KAAK,EAAE;AAAlF,OAAnB;AAA+G,MAAA,QAAQ,MAAvH;AACG,MAAA,SAAS,EAAE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,CAAd;AAAiB,QAAA,MAAM,EAAC,QAAxB;AAAiC,QAAA,KAAK,EAAE;AAAEsD,UAAAA,KAAK,EAAE;AAAT,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6D,KAAK7I,KAAL,CAAW2F,EAAxE,MADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE,CAAd;AAAiB,MAAA,MAAM,EAAC,QAAxB;AAAiC,MAAA,KAAK,EAAE;AAAEkD,QAAAA,KAAK,EAAE,OAAT;AAAkB5B,QAAAA,OAAO,EAAE,MAA3B;AAAmCiC,QAAAA,UAAU,EAAE;AAA/C,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKlJ,KAAL,CAAWoG,EAAX,CAAc,CAAd,CADF,CAFD,CAFD,CA5BD,EAsCC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ;AAAM,MAAA,KAAK,EAAE;AAAEyC,QAAAA,KAAK,EAAE,OAAT;AAAkBD,QAAAA,OAAO,EAAE;AAA3B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yOAAR,CAtCD,CAVH,CA1BF,EAgFE,CAAC,KAAK5I,KAAL,CAAWyF,OAAZ,IAAuB,CAAC,KAAKzF,KAAL,CAAWc,YAAnC,IACA;AAAK,MAAA,KAAK,EAAE;AAAEiI,QAAAA,QAAQ,EAAE,UAAZ;AAAyBI,QAAAA,MAAM,EAAE,KAAjC;AAAwC5D,QAAAA,KAAK,EAAE,OAA/C;AAAwD6C,QAAAA,MAAM,EAAE;AAAhE,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,YAAU;AAC1B,aAAKlI,QAAL,CAAc;AAAED,UAAAA,MAAM,EAAE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAV;AAA4BmJ,UAAAA,MAAM,EAAE;AAApC,SAAd;AACA,cAAM,KAAK3F,KAAL,CAAW,GAAX,CAAN;AACA,YAAIM,OAAO,GAAG1B,QAAQ,CAACgH,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAAd;AACAvM,QAAAA,WAAW,CAACiH,OAAD,EAAU;AAAEuF,UAAAA,UAAU,EAAE;AAAd,SAAV,CAAX,CAA2ClC,IAA3C,CAAgD,MAAMlC,MAAN,IAAgB;AAC/D,cAAIqE,IAAI,GAAGrE,MAAM,CAACsE,SAAP,CAAiB,WAAjB,CAAX;;AACA,cAAG;AACF,gBAAIC,IAAI,GAAG,MAAMlQ,MAAM,CAAC8G,IAAP,CAAY,sBAAZ,EAAoC;AAAEqJ,cAAAA,eAAe,EAAE,OAAnB;AAA4BH,cAAAA,IAA5B;AAAkCI,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,GAAG,EAAE,uBAAuB,OAA9B;AAAuCxG,gBAAAA,IAAI,EAAE,MAA7C;AAAqDrB,gBAAAA,IAAI,EAAE;AAA3D;AAA9C,aAApC,CAAjB;AACA,iBAAK7B,QAAL,CAAc;AAAE2J,cAAAA,MAAM,EAAE;AAAV,aAAd;AACA,WAHD,CAGC,OAAOlI,CAAP,EAAU,CAAE;;AACb,eAAKzB,QAAL,CAAc;AAAED,YAAAA,MAAM,EAAE,IAAV;AAAgBmJ,YAAAA,MAAM,EAAE;AAAxB,WAAd;AACA,SAPD;AAQA,OAZD;AAYG,MAAA,KAAK,EAAE;AAAEtB,QAAAA,UAAU,EAAE,WAAd;AAA2Be,QAAAA,KAAK,EAAE,OAAlC;AAA2CiB,QAAAA,QAAQ,EAAE,MAArD;AAA6DC,QAAAA,aAAa,EAAE;AAA5E,OAZV;AAY+F,MAAA,MAAM,EAAE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZvG;AAY8H,MAAA,IAAI,EAAC,IAZnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wHADD,CAjFF,EAkGC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEhB,QAAAA,QAAQ,EAAE,UAAZ;AAAyBI,QAAAA,MAAM,EAAE,CAAjC;AAAoChB,QAAAA,aAAa,EAAE;AAAnD,OAAf;AAA4E,MAAA,OAAO,EAAE;AAACE,QAAAA,IAAI,EAAE,IAAP;AACpFC,QAAAA,QAAQ,EAAE,IAD0E;AAEpFC,QAAAA,aAAa,EAAE5L,kBAFqE;AAGpF6L,QAAAA,gBAAgB,EAAE;AACjBC,UAAAA,mBAAmB,EAAE;AADJ;AAHkE,OAArF;AAME,MAAA,MAAM,EAAE,MANV;AAOE,MAAA,KAAK,EAAE,OAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlGD,EA4GE,KAAKzI,KAAL,CAAWkD,QA5Gb,CAXD,CAlGD,CADD;AA+NA;;AAvcgC;;AA0clC,eAAevD,GAAf","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\n\nimport { Panel, Title, Counter, Headline, Footer, PanelHeader, View , SimpleCell, Slider, Switch, Div, ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, FixedLayout, PanelHeaderBack, PanelHeaderClose, CellButton, PromoBanner, Link, platform, IOS, ANDROID  } from '@vkontakte/vkui';\n\nimport Icon16CancelCircleOutline from '@vkontakte/icons/dist/16/cancel_circle_outline';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon28AdvertisingOutline from '@vkontakte/icons/dist/28/advertising_outline';\nimport Icon28CameraOutline from '@vkontakte/icons/dist/28/camera_outline';\nimport Icon28GhostOutline from '@vkontakte/icons/dist/28/ghost_outline';\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\n\nimport Lottie from 'react-lottie'\nimport animationDataBackground from './animations/background.json'\nimport animationDataWaves from './animations/wave.json'\nimport animationDataLoading from './animations/loading2.json'\nimport {Upload} from \"./components/Upload\";\n\nimport html2canvas from 'html2canvas';\n\nimport stars from './img/stars.png';\n\nimport ru from './img/ru.png';\nimport ukr from './img/ukr.png';\nimport cn from './img/cn.png';\nimport it from './img/it.png';\nimport bel from './img/bel.png';\nimport brit from './img/brit.png';\nimport germ from './img/germ.png';\nimport grez from './img/grez.png';\n\nimport belg from './img/belg.png';\nimport as from './img/as.png';\nimport jm from './img/jm.png';\nimport sz from './img/sz.png';\nimport pl from './img/pl.png';\nimport bulg from './img/bulg.png';\nimport isr from './img/isr.png';\nimport fr from './img/fr.png';\nimport kz from './img/kz.png';\nimport us from './img/us.png';\nimport spain from './img/spain.png';\n\nimport ph from './img/ph.png';\nimport sd from './img/sd.png';\nimport ml from './img/ml.png';\nimport am from './img/am.png';\nimport ire from './img/ire.png';\nimport den from './img/den.png';\nimport braz from './img/braz.png';\n\nimport jp from './img/jp.png';\nimport ch from './img/ch.png';\nimport leb from './img/leb.png';\nimport arab from './img/arab.png';\nimport afr from './img/afr.png';\nimport zb from './img/zb.png';\nimport arg from './img/arg.png';\nimport ind from './img/ind.png';\nimport eg from './img/eg.png';\nimport kor from './img/kor.png';\nimport mex from './img/mex.png';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n}, os = platform();\n\n\nconst random = require('random');\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\thistory: [\"main\"],\n\t\t\tactivePanel: \"main\",\n\n\t\t\tshow_native_ads: false,\n\t\t\tlight_value: 0,\n\t\t\tlight_interval_status: false,\n\t\t\tlight_interval_time: 50,\n\n\t\t\tphoto: 'https://sun1-83.userapi.com/c858020/v858020848/dabc4/pcnuQszWuCw.jpg',\n\t\t\tcan_generate: true\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.change_hash = this.change_hash.bind(this);\n\t\t//eruda.init();\n\t}\n\n\tasync componentDidMount () {\n\n\t\tlet user = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\tthis.setState({ photo: user.photo_max_orig, name: user.first_name + ' ' + user.last_name });\n\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.back(e);\n\t\t});\n\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tinitializeApp() {\n\t\tlet hash = window.location.hash;\n\t\tif (hash) {\n\t\t\thash = hash.replace('#','');\n\t\t\tthis.go(hash);\n\t\t}else{\n\t\t\tthis.change_hash('main');\n\t\t}\n\t}\n\n\tback = () => {\n\t\tif(this.state.popout !== null){\n\t\t\tthis.setState({ popout: null });\n\t\t\treturn ;\n\t\t}\n\t\tlet { activePanel, history } = this.state;\n\t\tif(activePanel === 'main'){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tactivePanel = history[history.length - 1];\n\t\t\t\tthis.setState({activePanel});\n\t\t\t\tthis.change_hash(activePanel);\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet history = this.state.history;\n\t\tif(history[history.length-1] !== panel) {\n\t\t\thistory.push(panel);\n\t\t\twindow.history.pushState({activePanel: panel}, 'Title');\n\t\t\tthis.setState({activePanel: panel, history, snackbar: null});\n\t\t}\n\t\tthis.change_hash(panel);\n\t}\n\tchange_hash (panel){\n\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": panel});\n\t}\n\n\tasync showSnackBar (text, icon, style, action, onActionClick){\n\t\tthis.setState({ snackbar: null });\n\t\tawait this.sleep(10);\n\t\tif(onActionClick === null) onActionClick = ()=> {};\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t\taction={action}\n\t\t\t\t\tonActionClick={onActionClick}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\n\tasync uploadFile(element, evt) {\n\t\tlet tgt = evt.target || window.event.srcElement,\n\t\t\tfiles = tgt.files;\n\t\tconst t = this;\n\n\t\tif (FileReader && files && files.length) {\n\t\t\tfor (let file of files) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = async function () {\n\t\t\t\t\tlet res = fr.result; //base64 result, to get src -> array[0].props.src\n\t\t\t\t\tif (file.type.includes('image')) {\n\t\t\t\t\t\tlet image = new Image();\n\t\t\t\t\t\timage.src = res;\n\t\t\t\t\t\timage.onload = async function() {\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppAllowMessagesFromGroup', {group_id: 197570628, key: 'fsdgeruiogj'});\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\tthis.setState({ snackbar:\n\t\t\t\t\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t\t\t\t\tlayout='vertical'\n\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tНеобходимо разрешение на получение сообщений\n\t\t\t\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\t\t\t\tctx = canvas.getContext('2d');\n\t\t\t\t\t\t\tcanvas.height = 720;\n\t\t\t\t\t\t\tcanvas.width = 720;\n\t\t\t\t\t\t\tctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, 720, 720);\n\t\t\t\t\t\t\tt.setState({ [element]: res, can_generate: true });\n\n\t\t\t\t\t\t\tthis.setState({ loading: true });\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.setState({ loading: false });\n\t\t\t\t\t\t\t}, 2200);\n\t\t\t\t\t\t\tlet percents = 100;\n\t\t\t\t\t\t\tlet p4 = random.int(1, 4); percents -= p4;\n\t\t\t\t\t\t\tlet p3 = random.int(6, 13); percents -= p3;\n\t\t\t\t\t\t\tlet p2 = random.int(25, 41); percents -= p2;\n\t\t\t\t\t\t\tlet p1 = percents;\n\n\t\t\t\t\t\t\tlet country = [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t[ 'Россия', ru ],\n\t\t\t\t\t\t\t\t\t[ 'Украина', ukr ],\n\t\t\t\t\t\t\t\t\t[ 'Канада', cn ],\n\t\t\t\t\t\t\t\t\t[ 'Италия', it ],\n\t\t\t\t\t\t\t\t\t[ 'Белорусия', bel ],\n\t\t\t\t\t\t\t\t\t[ 'Британия', brit ],\n\t\t\t\t\t\t\t\t\t[ 'Германия', germ ],\n\t\t\t\t\t\t\t\t\t[ 'Греция', grez ]\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t[ 'Бельгия', belg ],\n\t\t\t\t\t\t\t\t\t[ 'Австрия', as ],\n\t\t\t\t\t\t\t\t\t[ 'Ямайка', jm ],\n\t\t\t\t\t\t\t\t\t[ 'Швейцария', sz ],\n\t\t\t\t\t\t\t\t\t[ 'Польша', pl ],\n\t\t\t\t\t\t\t\t\t[ 'Болгария', bulg ],\n\t\t\t\t\t\t\t\t\t[ 'Израиль', isr ],\n\t\t\t\t\t\t\t\t\t[ 'Франция', fr ],\n\t\t\t\t\t\t\t\t\t[ 'Казахстан', kz ],\n\t\t\t\t\t\t\t\t\t[ 'США', us ],\n\t\t\t\t\t\t\t\t\t[ 'Испания', spain ]\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t[ 'Филлипины', ph ],\n\t\t\t\t\t\t\t\t\t[ 'Швеция', sd ],\n\t\t\t\t\t\t\t\t\t[ 'Молдавия', ml ],\n\t\t\t\t\t\t\t\t\t[ 'Армения', am ],\n\t\t\t\t\t\t\t\t\t[ 'Ирландия', ire ],\n\t\t\t\t\t\t\t\t\t[ 'Дания', den ],\n\t\t\t\t\t\t\t\t\t[ 'Бразилия', braz ]\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t[ 'Япония', jp ],\n\t\t\t\t\t\t\t\t\t[ 'Китай', ch ],\n\t\t\t\t\t\t\t\t\t[ 'Ливан', leb ],\n\t\t\t\t\t\t\t\t\t[ 'Саудовская Аравия', arab ],\n\t\t\t\t\t\t\t\t\t[ 'Африка', afr ],\n\t\t\t\t\t\t\t\t\t[ 'Зимбабве', zb ],\n\t\t\t\t\t\t\t\t\t[ 'Аргентина', arg ],\n\t\t\t\t\t\t\t\t\t[ 'Индия', ind ],\n\t\t\t\t\t\t\t\t\t[ 'Египет', eg ],\n\t\t\t\t\t\t\t\t\t[ 'Корея', kor ],\n\t\t\t\t\t\t\t\t\t[ 'Мексика', mex ]\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tlet c1 = country[0][random.int(0, country[0].length-1)];\n\t\t\t\t\t\t\tlet c2 = c1 === country[0][0] ? country[1][random.int(0, country[1].length-1)] : country[0][0];\n\t\t\t\t\t\t\tlet c3 = country[2][random.int(0, country[2].length-1)];\n\t\t\t\t\t\t\tlet c4 = country[3][random.int(0, country[3].length-1)];\n\n\t\t\t\t\t\t\tthis.setState({ p1, p2, p3, p4, c1, c2, c3, c4, can_generate: false });\n\t\t\t\t\t\t}.bind(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.showSnackBar('Необходимо загрузить изображение в формате PNG', <Icon16CancelCircleOutline fill='#fff' width={14} height={14} />, redBackground);\n\n\t\t\t\t\t}\n\t\t\t\t}.bind(this);\n\t\t\t\tawait fr.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t\t// Not supported\n\t\telse {\n\t\t\t// fallback -- perhaps submit the input to an iframe and temporarily store\n\t\t\t// them on the server until the user's session ends.\n\t\t}\n\t}\n\n\tviewportToPixels(value) {\n\t\tvar parts = value.match(/([0-9\\.]+)(vh|vw)/)\n\t\tvar q = Number(parts[1])\n\t\tvar side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]];\n\t\treturn side * (q/100)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout} history={this.state.history} onSwipeBack={this.back}>\n\t\t\t\t<Panel id='main'>\n\t\t\t\t\t<PanelHeader>Mini App</PanelHeader>\n\t\t\t\t\t<Group>\n\t\t\t\t\t\t<SimpleCell before={<Icon28AdvertisingOutline/>} onClick={()=>{ this.go('advert') }}>\n\t\t\t\t\t\t\tРеклама\n\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t\t<SimpleCell before={<Icon28CameraOutline/>} onClick={()=>{ this.go('light') }}>\n\t\t\t\t\t\t\tФонарик\n\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t\t<SimpleCell before={<Icon28GhostOutline/>} onClick={()=>{ this.go('animation') }}>\n\t\t\t\t\t\t\tАнимация\n\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t</Group>\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='advert'>\n\t\t\t\t\t<PanelHeader>Реклама</PanelHeader>\n\t\t\t\t\t<Cell indicator={os === ANDROID ? 'Android' : os === IOS ? 'IOS/Web' : os.toString()}>\n\t\t\t\t\t\tПлатформа\n\t\t\t\t\t</Cell>\n\t\t\t\t\t<Group header={<Header mode='secondary'>Просмотр рекламы</Header>}>\n\t\t\t\t\t\t<Cell onClick={()=>{ this.setState({ show_banner_ads: !this.state.show_banner_ads }); }} asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.show_banner_ads ? '180deg' : '0'})` }} />}>Баннер</Cell>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.show_banner_ads &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t<Button mode='primary' onClick={()=>{\n\t\t\t\t\t\t\t\t\t\tbridge.send('VKWebAppGetAds', {}).then(data => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ promoBanner: <PromoBanner onClose={() => { this.setState({promoBanner: null}); }} bannerData={data}/> });\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}>Показать</Button>\n\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px', marginRight: '8px' }} mode='secondary' onClick={()=>{ this.setState({promoBanner: null}); }}>Скрыть</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Separator style={{ marginTop: '8px' }}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Cell onClick={()=>{ if(os === ANDROID){ this.setState({ show_native_ads: !this.state.show_native_ads }) }else{ this.showSnackBar('Работает только на Android', <Icon16CancelCircleOutline fill={'#fff'}/>, redBackground) } }} asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.show_native_ads ? '180deg' : '0'})` }} />}>Полноэкранная</Cell>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.show_native_ads &&\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<Button mode='outline' onClick={()=>{ bridge.send('VKWebAppShowNativeAds', {ad_format:'preloader'}) }}>preloader</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }}  mode='outline' onClick={()=>{ bridge.send('VKWebAppShowNativeAds', {ad_format:'reward'}) }}>reward</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px', marginRight: '8px' }}  mode='outline' onClick={()=>{ bridge.send('VKWebAppShowNativeAds', {ad_format:'interstitial'}) }}>interstitial</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Separator style={{ marginTop: '8px' }}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Group>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.promoBanner &&\n\t\t\t\t\t\t<FixedLayout vertical=\"bottom\">\n\t\t\t\t\t\t\t{this.state.promoBanner}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='light'>\n\t\t\t\t\t<PanelHeader>Фонарик</PanelHeader>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\t\tvalue={Number(this.state.light_value)}\n\t\t\t\t\t\t\tonChange={async light_value => {\n\t\t\t\t\t\t\t\tthis.setState({light_value});\n\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppFlashSetLevel', {level: light_value});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttop={String(this.state.light_value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Group header={<Header mode='secondary'>Интервал</Header>}>\n\t\t\t\t\t\t\t<Cell asideContent={<Switch checked={this.state.light_interval_status} onChange={ async () =>{\n\t\t\t\t\t\t\t\tif(this.state.light_value > 0) {\n\t\t\t\t\t\t\t\t\tawait this.setState({light_interval_status: !this.state.light_interval_status});\n\n\t\t\t\t\t\t\t\t\tlet interval = this.state.interval ? this.state.interval : null;\n\t\t\t\t\t\t\t\t\ttry {clearInterval(interval);} catch (e) {}\n\t\t\t\t\t\t\t\t\tconsole.log(this.state.light_interval_status);\n\t\t\t\t\t\t\t\t\tif (this.state.light_interval_status) {\n\t\t\t\t\t\t\t\t\t\tinterval = setInterval(async () => {\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.light_interval_status) {\n\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppFlashSetLevel', {level: 0});\n\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppFlashSetLevel', {level: this.state.light_value});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}, this.state.light_interval_time);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.setState({interval});\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthis.showSnackBar('Уровень яркости не должен быть равным нулю', <Icon16CancelCircleOutline fill={'#fff'}/>, redBackground);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}/>}>\n\t\t\t\t\t\t\t\tСтатус\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Input value={String(this.state.light_interval_time)} onChange={e => { if(e.target.value >= 50) this.setState({ light_interval_time: e.target.value }); else this.showSnackBar('Минимальное значение — 50', <Icon16CancelCircleOutline fill={'#fff'}/>, redBackground); }} type='number' top='Время (мс)'/>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t\t</FormLayout>\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='animation'>\n\t\t\t\t\t<Upload onChange={async e => {\n\t\t\t\t\t\tthis.uploadFile('photo', e);\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div style={{ background: 'white', height: '40vh' }}>\n\t\t\t\t\t\t\t<div style={{ paddingTop: 'calc(6vh + var(--safe-area-inset-top))' }}>\n\t\t\t\t\t\t\t\t<Avatar crossOrigin={'anonymous'} shadow={false} size={this.viewportToPixels('26vh')} mode='app' src={this.state.photo} className='centered' style={{ borderRadius: '2vh' }}/>\n\t\t\t\t\t\t\t\t{ false && <Title level='1' weight='medium' className='centered' style={{ marginTop: 16 }}>{this.state.name}</Title> }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Upload>\n\t\t\t\t\t<div style={{ borderTopLeftRadius: '5vh', borderTopRightRadius: '5vh', height: '60vh', background: '#1d1b26' }}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.loading ?\n\t\t\t\t\t\t\t\t<div className='absolute_centered'>\n\t\t\t\t\t\t\t\t\t<Lottie className='absolute_centered animated-loading' style={{ pointerEvents: 'none', zIndex: -1, transform: 'translateY(4vh)' }} options={{loop: true,\n\t\t\t\t\t\t\t\t\t\tautoplay: true,\n\t\t\t\t\t\t\t\t\t\tanimationData: animationDataLoading,\n\t\t\t\t\t\t\t\t\t\trendererSettings: {\n\t\t\t\t\t\t\t\t\t\t\tpreserveAspectRatio: 'xMidYMid slice'\n\t\t\t\t\t\t\t\t\t\t}}} height={'100px'} width={'100px'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tthis.state.can_generate ?\n\t\t\t\t\t\t\t\t\t<Lottie className='absolute_centered' style={{ pointerEvents: 'none', zIndex: -1, transform: 'translateY(4vh)' }} options={{loop: true,\n\t\t\t\t\t\t\t\t\t\tautoplay: true,\n\t\t\t\t\t\t\t\t\t\tanimationData: animationDataBackground,\n\t\t\t\t\t\t\t\t\t\trendererSettings: {\n\t\t\t\t\t\t\t\t\t\t\tpreserveAspectRatio: 'xMidYMid slice'\n\t\t\t\t\t\t\t\t\t\t}}} height={'45vh'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<div style={{ width: '100vw', height: '60vh', backgroundImage: `url(${stars})`, backgroundRepeat: 'repeat', opacity: .3 }}/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t!this.state.loading &&\n\t\t\t\t\t\t\t<div className='absolute_centered animated-loading' style={{ width: '100vw' }}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.can_generate ?\n\t\t\t\t\t\t\t\t\t\t<Upload onChange={async e => {\n\t\t\t\t\t\t\t\t\t\t\tthis.uploadFile('photo', e);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<Title style={{ color: 'white', textAlign: 'center' }} level='3' weight='medium'>Чтобы узнать, кто вы по национальности, загрузите фотографию, где хорошо видно ваше лицо</Title>\n\t\t\t\t\t\t\t\t\t\t\t<div className='centered' style={{ marginTop: '16px' }}><Button mode='overlay_secondary'>Загрузить</Button></div>\n\t\t\t\t\t\t\t\t\t\t</Upload>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<div style={{ position: 'absolute', top: '-5vh', left: '50%', transform: 'translateX(-50%)', width: '80vw' }}>\n\t\t\t\t\t\t\t\t\t\t\t<div className='centered'>\n\t\t\t\t\t\t\t\t\t\t\t\t<img crossOrigin={'anonymous'} src={this.state.c1[1]} height={32} />\n\t\t\t\t\t\t\t\t\t\t\t\t<SimpleCell style={{ height: '6vh', background: 'linear-gradient(90deg, #ffffff00, #e64646)', width: '70vw' }} disabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindicator={<Title level={2} weight='medium' style={{ color: 'white' }}>{this.state.p1}%</Title>}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Title level={2} weight='medium' style={{ color: 'white', display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.c1[0]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='centered' style={{ marginTop: '1.5vh' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img crossOrigin={'anonymous'} src={this.state.c2[1]} height={32} />\n\t\t\t\t\t\t\t\t\t\t\t\t<SimpleCell style={{ height: '6vh', background: 'linear-gradient(90deg, #ffffff00, #e64646)', width: '70vw' }} disabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindicator={<Title level={2} weight='medium' style={{ color: 'white' }}>{this.state.p2}%</Title>}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Title level={2} weight='medium' style={{ color: 'white', display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.c2[0]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='centered' style={{ marginTop: '1.5vh' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img crossOrigin={'anonymous'} src={this.state.c3[1]} height={32} />\n\t\t\t\t\t\t\t\t\t\t\t\t<SimpleCell style={{ height: '6vh', background: 'linear-gradient(90deg, #ffffff00, #e64646)', width: '70vw' }} disabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindicator={<Title level={2} weight='medium' style={{ color: 'white' }}>{this.state.p3}%</Title>}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Title level={2} weight='medium' style={{ color: 'white', display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.c3[0]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='centered' style={{ marginTop: '1.5vh' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img crossOrigin={'anonymous'} src={this.state.c4[1]} height={32} />\n\t\t\t\t\t\t\t\t\t\t\t\t<SimpleCell style={{ height: '6vh', background: 'linear-gradient(90deg, #ffffff00, #e64646)', width: '70vw' }} disabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindicator={<Title level={2} weight='medium' style={{ color: 'white' }}>{this.state.p4}%</Title>}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Title level={2} weight='medium' style={{ color: 'white', display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.c4[0]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t\t\t\t\t\t</SimpleCell>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<Footer><span style={{ color: 'white', opacity: .5 }}>Чтобы изменить фото, нажмите на свой аватар</span></Footer>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t!this.state.loading && !this.state.can_generate &&\n\t\t\t\t\t\t\t<div style={{ position: 'absolute' , bottom: '1vh', width: '100vw', zIndex: 1 }}>\n\t\t\t\t\t\t\t\t<Button onClick={async ()=>{\n\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/>, screen: true });\n\t\t\t\t\t\t\t\t\tawait this.sleep(250);\n\t\t\t\t\t\t\t\t\tlet element = document.getElementsByClassName('View__panels')[0];\n\t\t\t\t\t\t\t\t\thtml2canvas(element, { allowTaint: true }).then(async canvas => {\n\t\t\t\t\t\t\t\t\t\tlet blob = canvas.toDataURL('image/png');\n\t\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\t\tlet resp = await bridge.send('VKWebAppShowStoryBox', { background_type: 'image', blob, attachment: { url: 'https://vk.com/app' + 7439359, text: 'open', type: 'url' } });\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ shared: true });\n\t\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null, screen: false });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}} style={{ background: '#ffffff00', color: 'white', fontSize: '20px', letterSpacing: '1px' }} before={<Icon28StoryOutline/>} size='xl'>Поделиться в истории</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t<Lottie style={{ position: 'absolute' , bottom: 0, pointerEvents: 'none' }} options={{loop: true,\n\t\t\t\t\t\t\tautoplay: true,\n\t\t\t\t\t\t\tanimationData: animationDataWaves,\n\t\t\t\t\t\t\trendererSettings: {\n\t\t\t\t\t\t\t\tpreserveAspectRatio: 'xMidYMid slice'\n\t\t\t\t\t\t\t}}}\n\t\t\t\t\t\t\t\theight={'45vh'}\n\t\t\t\t\t\t\t\twidth={'100vw'}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t\t</div>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}