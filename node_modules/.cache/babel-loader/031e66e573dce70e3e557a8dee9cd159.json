{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\NodeProjects\\\\TestMiniApp\\\\src\\\\App.js\";\nimport React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css';\nimport eruda from 'eruda';\nimport { Panel, PanelHeader, View, Slider, Switch, Div, ScreenSpinner, List, Cell, Gallery, FormLayout, Input, Avatar, Group, Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs, TabsItem, PullToRefresh, Snackbar, FixedLayout, PanelHeaderBack, PanelHeaderClose, CellButton, PromoBanner, Link, platform, IOS, ANDROID } from '@vkontakte/vkui';\nimport Icon16CancelCircleOutline from '@vkontakte/icons/dist/16/cancel_circle_outline';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon28AdvertisingOutline from '@vkontakte/icons/dist/28/advertising_outline';\nimport Icon28CameraOutline from '@vkontakte/icons/dist/28/camera_outline';\nconst blueBackground = {\n  backgroundColor: 'var(--accent)'\n},\n      redBackground = {\n  backgroundColor: 'var(--dynamic_red)'\n},\n      os = platform();\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.back = () => {\n      if (this.state.popout !== null) {\n        this.setState({\n          popout: null\n        });\n        return;\n      }\n\n      let _this$state = this.state,\n          activePanel = _this$state.activePanel,\n          history = _this$state.history;\n\n      if (activePanel === 'main') {\n        bridge.send(\"VKWebAppClose\", {\n          \"status\": \"success\"\n        });\n      } else {\n        if (history.length === 1) {\n          bridge.send(\"VKWebAppClose\", {\n            \"status\": \"success\"\n          });\n        } else if (history.length > 1) {\n          history.pop();\n          activePanel = history[history.length - 1];\n          this.setState({\n            activePanel\n          });\n          this.change_hash(activePanel);\n        }\n      }\n    };\n\n    this.state = {\n      popout: null,\n      history: [\"main\"],\n      activePanel: \"main\",\n      show_native_ads: false,\n      light_value: 0\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.initializeApp = this.initializeApp.bind(this);\n    this.back = this.back.bind(this);\n    this.go = this.go.bind(this);\n    this.change_hash = this.change_hash.bind(this);\n    eruda.init();\n  }\n\n  componentDidMount() {\n    window.addEventListener('popstate', e => {\n      e.preventDefault();\n      this.back(e);\n    });\n    bridge.subscribe(async ({\n      detail: {\n        type,\n        data\n      }\n    }) => {\n      if (type !== undefined) console.log(type, data);\n\n      if (type === 'VKWebAppUpdateConfig') {\n        const schemeAttribute = document.createAttribute('scheme');\n        schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    let hash = window.location.hash;\n\n    if (hash) {\n      hash = hash.replace('#', '');\n      this.go(hash);\n    } else {\n      this.change_hash('main');\n    }\n  }\n\n  go(panel) {\n    let history = this.state.history;\n\n    if (history[history.length - 1] !== panel) {\n      history.push(panel);\n      window.history.pushState({\n        activePanel: panel\n      }, 'Title');\n      this.setState({\n        activePanel: panel,\n        history,\n        snackbar: null\n      });\n    }\n\n    this.change_hash(panel);\n  }\n\n  change_hash(panel) {\n    bridge.send(\"VKWebAppSetLocation\", {\n      \"location\": panel\n    });\n  }\n\n  async showSnackBar(text, icon, style, action, onActionClick) {\n    this.setState({\n      snackbar: null\n    });\n    await this.sleep(10);\n    if (onActionClick === null) onActionClick = () => {};\n    this.setState({\n      snackbar: React.createElement(Snackbar, {\n        layout: \"vertical\",\n        onClose: () => this.setState({\n          snackbar: null\n        }),\n        before: React.createElement(Avatar, {\n          size: 24,\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, icon),\n        action: action,\n        onActionClick: onActionClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, text)\n    });\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  render() {\n    return React.createElement(View, {\n      activePanel: this.state.activePanel,\n      popout: this.state.popout,\n      history: this.state.history,\n      onSwipeBack: this.back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Panel, {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Mini App\"), React.createElement(Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Cell, {\n      before: React.createElement(Icon28AdvertisingOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }),\n      onClick: () => {\n        this.go('advert');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u043A\\u043B\\u0430\\u043C\\u0430\"), React.createElement(Cell, {\n      before: React.createElement(Icon28CameraOutline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }),\n      onClick: () => {\n        this.go('light');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"\\u0424\\u043E\\u043D\\u0430\\u0440\\u0438\\u043A\"))), React.createElement(Panel, {\n      id: \"advert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u043A\\u043B\\u0430\\u043C\\u0430\"), React.createElement(Cell, {\n      indicator: os === ANDROID ? 'Android' : os === IOS ? 'IOS/Web' : os.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"\\u041F\\u043B\\u0430\\u0442\\u0444\\u043E\\u0440\\u043C\\u0430\"), React.createElement(Group, {\n      header: React.createElement(Header, {\n        mode: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440 \\u0440\\u0435\\u043A\\u043B\\u0430\\u043C\\u044B\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Cell, {\n      onClick: () => {\n        this.setState({\n          show_banner_ads: !this.state.show_banner_ads\n        });\n      },\n      asideContent: React.createElement(Icon16Dropdown, {\n        style: {\n          transform: \"rotate(\".concat(this.state.show_banner_ads ? '180deg' : '0', \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"\\u0411\\u0430\\u043D\\u043D\\u0435\\u0440\"), this.state.show_banner_ads && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Button, {\n      mode: \"primary\",\n      onClick: () => {\n        bridge.send('VKWebAppGetAds', {}).then(data => {\n          this.setState({\n            promoBanner: React.createElement(PromoBanner, {\n              onClose: () => {\n                this.setState({\n                  promoBanner: null\n                });\n              },\n              bannerData: data,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 149\n              },\n              __self: this\n            })\n          });\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\"), React.createElement(Button, {\n      style: {\n        marginLeft: '8px',\n        marginRight: '8px'\n      },\n      mode: \"secondary\",\n      onClick: () => {\n        this.setState({\n          promoBanner: null\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"\\u0421\\u043A\\u0440\\u044B\\u0442\\u044C\")), React.createElement(Separator, {\n      style: {\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })), React.createElement(Cell, {\n      onClick: () => {\n        if (os === ANDROID) {\n          this.setState({\n            show_native_ads: !this.state.show_native_ads\n          });\n        } else {\n          this.showSnackBar('Работает только на Android', React.createElement(Icon16CancelCircleOutline, {\n            fill: '#fff',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }), redBackground);\n        }\n      },\n      asideContent: React.createElement(Icon16Dropdown, {\n        style: {\n          transform: \"rotate(\".concat(this.state.show_native_ads ? '180deg' : '0', \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u044D\\u043A\\u0440\\u0430\\u043D\\u043D\\u0430\\u044F\"), this.state.show_native_ads && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Button, {\n      mode: \"outline\",\n      onClick: () => {\n        bridge.send('VKWebAppShowNativeAds', {\n          ad_format: 'preloader'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"preloader\"), React.createElement(Button, {\n      style: {\n        marginLeft: '8px'\n      },\n      mode: \"outline\",\n      onClick: () => {\n        bridge.send('VKWebAppShowNativeAds', {\n          ad_format: 'reward'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"reward\"), React.createElement(Button, {\n      style: {\n        marginLeft: '8px',\n        marginRight: '8px'\n      },\n      mode: \"outline\",\n      onClick: () => {\n        bridge.send('VKWebAppShowNativeAds', {\n          ad_format: 'interstitial'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"interstitial\")), React.createElement(Separator, {\n      style: {\n        marginTop: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }))), this.state.promoBanner && React.createElement(FixedLayout, {\n      vertical: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, this.state.promoBanner), this.state.snackbar), React.createElement(Panel, {\n      id: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u043A\\u043B\\u0430\\u043C\\u0430\"), React.createElement(FormLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Slider, {\n      min: 0,\n      max: 1,\n      value: Number(this.state.light_value),\n      onChange: async light_value => {\n        this.setState({\n          light_value\n        });\n        await bridge.send('VKWebAppFlashSetLevel', {\n          level: light_value\n        });\n      },\n      top: String(this.state.light_value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(Group, {\n      header: React.createElement(Header, {\n        mode: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Cell, {\n      asideContent: React.createElement(Switch, {\n        checked: this.state.light_interval_status,\n        onClick: () => {\n          this.setState({\n            light_interval_status: !this.state.light_interval_status\n          });\n          let interval = this.state.interval ? this.state.interval : null;\n\n          try {\n            clearInterval(interval);\n          } catch (e) {}\n\n          interval = setInterval(async () => {\n            await bridge.send('VKWebAppFlashSetLevel', {\n              level: this.state.light_value\n            });\n          }, this.state.light_interval_time);\n          this.setState({\n            interval\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"), React.createElement(Input, {\n      value: String(this.state.light_interval_time),\n      onChange: e => this.setState({\n        light_interval_time: e.target.value\n      }),\n      type: \"number\",\n      top: \"\\u0412\\u0440\\u0435\\u043C\\u044F (\\u043C\\u0441)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/NodeProjects/TestMiniApp/src/App.js"],"names":["React","bridge","eruda","Panel","PanelHeader","View","Slider","Switch","Div","ScreenSpinner","List","Cell","Gallery","FormLayout","Input","Avatar","Group","Epic","Tabbar","TabbarItem","Separator","Button","PanelHeaderContext","Header","PanelHeaderSimple","PanelHeaderContent","Placeholder","Tabs","TabsItem","PullToRefresh","Snackbar","FixedLayout","PanelHeaderBack","PanelHeaderClose","CellButton","PromoBanner","Link","platform","IOS","ANDROID","Icon16CancelCircleOutline","Icon16Dropdown","Icon28AdvertisingOutline","Icon28CameraOutline","blueBackground","backgroundColor","redBackground","os","App","Component","constructor","props","back","state","popout","setState","activePanel","history","send","length","pop","change_hash","show_native_ads","light_value","componentDidMount","bind","initializeApp","go","init","window","addEventListener","e","preventDefault","subscribe","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","hash","location","replace","panel","push","pushState","snackbar","showSnackBar","text","icon","style","action","onActionClick","sleep","ms","Promise","resolve","setTimeout","render","toString","show_banner_ads","transform","display","justifyContent","marginTop","then","promoBanner","marginLeft","marginRight","ad_format","Number","level","String","light_interval_status","interval","clearInterval","setInterval","light_interval_time","target"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,+BAAP;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,EAAgBC,WAAhB,EAA6BC,IAA7B,EAAoCC,MAApC,EAA4CC,MAA5C,EAAoDC,GAApD,EAAyDC,aAAzD,EAAwEC,IAAxE,EAA+EC,IAA/E,EAAsFC,OAAtF,EAAgGC,UAAhG,EAA6GC,KAA7G,EAAqHC,MAArH,EAA8HC,KAA9H,EAAsIC,IAAtI,EAA4IC,MAA5I,EAAoJC,UAApJ,EAAgKC,SAAhK,EAA2KC,MAA3K,EAAmLC,kBAAnL,EAAuMC,MAAvM,EAA+MC,iBAA/M,EAAkOC,kBAAlO,EAAsPC,WAAtP,EAAmQC,IAAnQ,EACCC,QADD,EACWC,aADX,EAC0BC,QAD1B,EACoCC,WADpC,EACiDC,eADjD,EACkEC,gBADlE,EACoFC,UADpF,EACgGC,WADhG,EAC6GC,IAD7G,EACmHC,QADnH,EAC6HC,GAD7H,EACkIC,OADlI,QACkJ,iBADlJ;AAGA,OAAOC,yBAAP,MAAsC,gDAAtC;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,wBAAP,MAAqC,8CAArC;AACA,OAAOC,mBAAP,MAAgC,yCAAhC;AAEA,MAAMC,cAAc,GAAG;AACtBC,EAAAA,eAAe,EAAE;AADK,CAAvB;AAAA,MAEGC,aAAa,GAAG;AAClBD,EAAAA,eAAe,EAAE;AADC,CAFnB;AAAA,MAIGE,EAAE,GAAGV,QAAQ,EAJhB;;AAMA,MAAMW,GAAN,SAAkBhD,KAAK,CAACiD,SAAxB,CAAkC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SA+CnBC,IA/CmB,GA+CZ,MAAM;AACZ,UAAG,KAAKC,KAAL,CAAWC,MAAX,KAAsB,IAAzB,EAA8B;AAC7B,aAAKC,QAAL,CAAc;AAAED,UAAAA,MAAM,EAAE;AAAV,SAAd;AACA;AACA;;AAJW,wBAKmB,KAAKD,KALxB;AAAA,UAKNG,WALM,eAKNA,WALM;AAAA,UAKOC,OALP,eAKOA,OALP;;AAMZ,UAAGD,WAAW,KAAK,MAAnB,EAA0B;AACzBvD,QAAAA,MAAM,CAACyD,IAAP,CAAY,eAAZ,EAA6B;AAAC,oBAAU;AAAX,SAA7B;AACA,OAFD,MAEM;AACL,YAAGD,OAAO,CAACE,MAAR,KAAmB,CAAtB,EAAyB;AACxB1D,UAAAA,MAAM,CAACyD,IAAP,CAAY,eAAZ,EAA6B;AAAC,sBAAU;AAAX,WAA7B;AACA,SAFD,MAEO,IAAID,OAAO,CAACE,MAAR,GAAiB,CAArB,EAAwB;AAC9BF,UAAAA,OAAO,CAACG,GAAR;AACAJ,UAAAA,WAAW,GAAGC,OAAO,CAACA,OAAO,CAACE,MAAR,GAAiB,CAAlB,CAArB;AACA,eAAKJ,QAAL,CAAc;AAACC,YAAAA;AAAD,WAAd;AACA,eAAKK,WAAL,CAAiBL,WAAjB;AACA;AACD;AACD,KAjEkB;;AAGlB,SAAKH,KAAL,GAAa;AACZC,MAAAA,MAAM,EAAE,IADI;AAEZG,MAAAA,OAAO,EAAE,CAAC,MAAD,CAFG;AAGZD,MAAAA,WAAW,EAAE,MAHD;AAKZM,MAAAA,eAAe,EAAE,KALL;AAMZC,MAAAA,WAAW,EAAE;AAND,KAAb;AASA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKb,IAAL,GAAY,KAAKA,IAAL,CAAUa,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKE,EAAL,GAAU,KAAKA,EAAL,CAAQF,IAAR,CAAa,IAAb,CAAV;AACA,SAAKJ,WAAL,GAAmB,KAAKA,WAAL,CAAiBI,IAAjB,CAAsB,IAAtB,CAAnB;AACA/D,IAAAA,KAAK,CAACkE,IAAN;AACA;;AAEDJ,EAAAA,iBAAiB,GAAI;AACpBK,IAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoCC,CAAC,IAAI;AACxCA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKpB,IAAL,CAAUmB,CAAV;AACA,KAHD;AAKAtE,IAAAA,MAAM,CAACwE,SAAP,CAAiB,OAAO;AAAEC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR;AAAV,KAAP,KAAqC;AACrD,UAAGD,IAAI,KAAKE,SAAZ,EAAuBC,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,IAAlB;;AACvB,UAAID,IAAI,KAAK,sBAAb,EAAqC;AACpC,cAAMK,eAAe,GAAGC,QAAQ,CAACC,eAAT,CAAyB,QAAzB,CAAxB;AACAF,QAAAA,eAAe,CAACG,KAAhB,GAAwBP,IAAI,CAACQ,MAAL,GAAcR,IAAI,CAACQ,MAAnB,GAA4B,cAApD;AACAH,QAAAA,QAAQ,CAACI,IAAT,CAAcC,UAAd,CAAyBC,YAAzB,CAAsCP,eAAtC;AACA;AACD,KAPD;AAQA,SAAKd,aAAL;AACA;;AAEDA,EAAAA,aAAa,GAAG;AACf,QAAIsB,IAAI,GAAGnB,MAAM,CAACoB,QAAP,CAAgBD,IAA3B;;AACA,QAAIA,IAAJ,EAAU;AACTA,MAAAA,IAAI,GAAGA,IAAI,CAACE,OAAL,CAAa,GAAb,EAAiB,EAAjB,CAAP;AACA,WAAKvB,EAAL,CAAQqB,IAAR;AACA,KAHD,MAGK;AACJ,WAAK3B,WAAL,CAAiB,MAAjB;AACA;AACD;;AAqBDM,EAAAA,EAAE,CAACwB,KAAD,EAAQ;AACT,QAAIlC,OAAO,GAAG,KAAKJ,KAAL,CAAWI,OAAzB;;AACA,QAAGA,OAAO,CAACA,OAAO,CAACE,MAAR,GAAe,CAAhB,CAAP,KAA8BgC,KAAjC,EAAwC;AACvClC,MAAAA,OAAO,CAACmC,IAAR,CAAaD,KAAb;AACAtB,MAAAA,MAAM,CAACZ,OAAP,CAAeoC,SAAf,CAAyB;AAACrC,QAAAA,WAAW,EAAEmC;AAAd,OAAzB,EAA+C,OAA/C;AACA,WAAKpC,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAEmC,KAAd;AAAqBlC,QAAAA,OAArB;AAA8BqC,QAAAA,QAAQ,EAAE;AAAxC,OAAd;AACA;;AACD,SAAKjC,WAAL,CAAiB8B,KAAjB;AACA;;AACD9B,EAAAA,WAAW,CAAE8B,KAAF,EAAQ;AAClB1F,IAAAA,MAAM,CAACyD,IAAP,CAAY,qBAAZ,EAAmC;AAAC,kBAAYiC;AAAb,KAAnC;AACA;;AAED,QAAMI,YAAN,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,KAAhC,EAAuCC,MAAvC,EAA+CC,aAA/C,EAA6D;AAC5D,SAAK7C,QAAL,CAAc;AAAEuC,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA,UAAM,KAAKO,KAAL,CAAW,EAAX,CAAN;AACA,QAAGD,aAAa,KAAK,IAArB,EAA2BA,aAAa,GAAG,MAAK,CAAE,CAAvB;AAC3B,SAAK7C,QAAL,CAAc;AAAEuC,MAAAA,QAAQ,EACtB,oBAAC,QAAD;AACC,QAAA,MAAM,EAAC,UADR;AAEC,QAAA,OAAO,EAAE,MAAM,KAAKvC,QAAL,CAAc;AAAEuC,UAAAA,QAAQ,EAAE;AAAZ,SAAd,CAFhB;AAGC,QAAA,MAAM,EAAE,oBAAC,MAAD;AAAQ,UAAA,IAAI,EAAE,EAAd;AAAkB,UAAA,KAAK,EAAEI,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiCD,IAAjC,CAHT;AAIC,QAAA,MAAM,EAAEE,MAJT;AAKC,QAAA,aAAa,EAAEC,aALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOEJ,IAPF;AADY,KAAd;AAWA;;AACDK,EAAAA,KAAK,CAACC,EAAD,EAAK;AACT,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACA;;AAEDI,EAAAA,MAAM,GAAG;AACR,WACC,oBAAC,IAAD;AAAM,MAAA,WAAW,EAAE,KAAKrD,KAAL,CAAWG,WAA9B;AAA2C,MAAA,MAAM,EAAE,KAAKH,KAAL,CAAWC,MAA9D;AAAsE,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWI,OAA1F;AAAmG,MAAA,WAAW,EAAE,KAAKL,IAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,EAEC,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAE,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AAA2C,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKe,EAAL,CAAQ,QAAR;AAAmB,OAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADD,EAIC,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AAAsC,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKA,EAAL,CAAQ,OAAR;AAAkB,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAJD,CAFD,CADD,EAYC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADD,EAEC,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEpB,EAAE,KAAKR,OAAP,GAAiB,SAAjB,GAA6BQ,EAAE,KAAKT,GAAP,GAAa,SAAb,GAAyBS,EAAE,CAAC4D,QAAH,EAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAFD,EAKC,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAI;AAAE,aAAKpD,QAAL,CAAc;AAAEqD,UAAAA,eAAe,EAAE,CAAC,KAAKvD,KAAL,CAAWuD;AAA/B,SAAd;AAAkE,OAAvF;AAAyF,MAAA,YAAY,EAAE,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,mBAAY,KAAKxD,KAAL,CAAWuD,eAAX,GAA6B,QAA7B,GAAwC,GAApD;AAAX,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADD,EAGE,KAAKvD,KAAL,CAAWuD,eAAX,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,KAAK,EAAE;AAAEE,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE,UAAnC;AAA+CC,QAAAA,SAAS,EAAE;AAA1D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,MAAI;AACnC/G,QAAAA,MAAM,CAACyD,IAAP,CAAY,gBAAZ,EAA8B,EAA9B,EAAkCuD,IAAlC,CAAuCrC,IAAI,IAAI;AAC9C,eAAKrB,QAAL,CAAc;AAAE2D,YAAAA,WAAW,EAAE,oBAAC,WAAD;AAAa,cAAA,OAAO,EAAE,MAAM;AAAE,qBAAK3D,QAAL,CAAc;AAAC2D,kBAAAA,WAAW,EAAE;AAAd,iBAAd;AAAqC,eAAnE;AAAqE,cAAA,UAAU,EAAEtC,IAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,WAAd;AACA,SAFD;AAGA,OAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DADD,EAMC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEuC,QAAAA,UAAU,EAAE,KAAd;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAf;AAA0D,MAAA,IAAI,EAAC,WAA/D;AAA2E,MAAA,OAAO,EAAE,MAAI;AAAE,aAAK7D,QAAL,CAAc;AAAC2D,UAAAA,WAAW,EAAE;AAAd,SAAd;AAAqC,OAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAND,CADD,EASC,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEF,QAAAA,SAAS,EAAE;AAAb,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATD,CAJF,EAgBC,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAI;AAAE,YAAGjE,EAAE,KAAKR,OAAV,EAAkB;AAAE,eAAKgB,QAAL,CAAc;AAAEO,YAAAA,eAAe,EAAE,CAAC,KAAKT,KAAL,CAAWS;AAA/B,WAAd;AAAiE,SAArF,MAAyF;AAAE,eAAKiC,YAAL,CAAkB,4BAAlB,EAAgD,oBAAC,yBAAD;AAA2B,YAAA,IAAI,EAAE,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhD,EAA4FjD,aAA5F;AAA4G;AAAE,OAA9N;AAAgO,MAAA,YAAY,EAAE,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAE;AAAE+D,UAAAA,SAAS,mBAAY,KAAKxD,KAAL,CAAWS,eAAX,GAA6B,QAA7B,GAAwC,GAApD;AAAX,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9O;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFAhBD,EAkBE,KAAKT,KAAL,CAAWS,eAAX,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,KAAK,EAAE;AAAEgD,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE,UAAnC;AAA+CC,QAAAA,SAAS,EAAE;AAA1D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,MAAI;AAAE/G,QAAAA,MAAM,CAACyD,IAAP,CAAY,uBAAZ,EAAqC;AAAC2D,UAAAA,SAAS,EAAC;AAAX,SAArC;AAA+D,OAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,EAEC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEF,QAAAA,UAAU,EAAE;AAAd,OAAf;AAAuC,MAAA,IAAI,EAAC,SAA5C;AAAsD,MAAA,OAAO,EAAE,MAAI;AAAElH,QAAAA,MAAM,CAACyD,IAAP,CAAY,uBAAZ,EAAqC;AAAC2D,UAAAA,SAAS,EAAC;AAAX,SAArC;AAA4D,OAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,EAGC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEF,QAAAA,UAAU,EAAE,KAAd;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAf;AAA2D,MAAA,IAAI,EAAC,SAAhE;AAA0E,MAAA,OAAO,EAAE,MAAI;AAAEnH,QAAAA,MAAM,CAACyD,IAAP,CAAY,uBAAZ,EAAqC;AAAC2D,UAAAA,SAAS,EAAC;AAAX,SAArC;AAAkE,OAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD,CADD,EAMC,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEL,QAAAA,SAAS,EAAE;AAAb,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,CAnBH,CALD,EAmCE,KAAK3D,KAAL,CAAW6D,WAAX,IACA,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAK7D,KAAL,CAAW6D,WADb,CApCF,EAwCE,KAAK7D,KAAL,CAAWyC,QAxCb,CAZD,EAsDC,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADD,EAEC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AACC,MAAA,GAAG,EAAE,CADN;AAEC,MAAA,GAAG,EAAE,CAFN;AAGC,MAAA,KAAK,EAAEwB,MAAM,CAAC,KAAKjE,KAAL,CAAWU,WAAZ,CAHd;AAIC,MAAA,QAAQ,EAAE,MAAMA,WAAN,IAAqB;AAC9B,aAAKR,QAAL,CAAc;AAACQ,UAAAA;AAAD,SAAd;AACA,cAAM9D,MAAM,CAACyD,IAAP,CAAY,uBAAZ,EAAqC;AAAC6D,UAAAA,KAAK,EAAExD;AAAR,SAArC,CAAN;AACA,OAPF;AAQC,MAAA,GAAG,EAAEyD,MAAM,CAAC,KAAKnE,KAAL,CAAWU,WAAZ,CARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAWC,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AAAM,MAAA,YAAY,EAAE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWoE,qBAA5B;AAAmD,QAAA,OAAO,EAAG,MAAK;AACrF,eAAKlE,QAAL,CAAc;AAAEkE,YAAAA,qBAAqB,EAAE,CAAC,KAAKpE,KAAL,CAAWoE;AAArC,WAAd;AAEA,cAAIC,QAAQ,GAAG,KAAKrE,KAAL,CAAWqE,QAAX,GAAsB,KAAKrE,KAAL,CAAWqE,QAAjC,GAA4C,IAA3D;;AACA,cAAG;AAAEC,YAAAA,aAAa,CAACD,QAAD,CAAb;AAA0B,WAA/B,CAA+B,OAAOnD,CAAP,EAAU,CAAE;;AAC3CmD,UAAAA,QAAQ,GAAGE,WAAW,CAAC,YAAU;AAChC,kBAAM3H,MAAM,CAACyD,IAAP,CAAY,uBAAZ,EAAqC;AAAC6D,cAAAA,KAAK,EAAE,KAAKlE,KAAL,CAAWU;AAAnB,aAArC,CAAN;AACA,WAFqB,EAEnB,KAAKV,KAAL,CAAWwE,mBAFQ,CAAtB;AAGA,eAAKtE,QAAL,CAAc;AAAEmE,YAAAA;AAAF,WAAd;AACA,SATmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADD,EAaC,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEF,MAAM,CAAC,KAAKnE,KAAL,CAAWwE,mBAAZ,CAApB;AAAsD,MAAA,QAAQ,EAAEtD,CAAC,IAAI,KAAKhB,QAAL,CAAc;AAAEsE,QAAAA,mBAAmB,EAAEtD,CAAC,CAACuD,MAAF,CAAS3C;AAAhC,OAAd,CAArE;AAA6H,MAAA,IAAI,EAAC,QAAlI;AAA2I,MAAA,GAAG,EAAC,+CAA/I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbD,CAXD,CAFD,CAtDD,CADD;AAuFA;;AA7LgC;;AAgMlC,eAAenC,GAAf","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\n\nimport { Panel, PanelHeader, View , Slider, Switch, Div, ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, FixedLayout, PanelHeaderBack, PanelHeaderClose, CellButton, PromoBanner, Link, platform, IOS, ANDROID  } from '@vkontakte/vkui';\n\nimport Icon16CancelCircleOutline from '@vkontakte/icons/dist/16/cancel_circle_outline';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon28AdvertisingOutline from '@vkontakte/icons/dist/28/advertising_outline';\nimport Icon28CameraOutline from '@vkontakte/icons/dist/28/camera_outline';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n}, os = platform();\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\thistory: [\"main\"],\n\t\t\tactivePanel: \"main\",\n\n\t\t\tshow_native_ads: false,\n\t\t\tlight_value: 0,\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.change_hash = this.change_hash.bind(this);\n\t\teruda.init();\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.back(e);\n\t\t});\n\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tinitializeApp() {\n\t\tlet hash = window.location.hash;\n\t\tif (hash) {\n\t\t\thash = hash.replace('#','');\n\t\t\tthis.go(hash);\n\t\t}else{\n\t\t\tthis.change_hash('main');\n\t\t}\n\t}\n\n\tback = () => {\n\t\tif(this.state.popout !== null){\n\t\t\tthis.setState({ popout: null });\n\t\t\treturn ;\n\t\t}\n\t\tlet { activePanel, history } = this.state;\n\t\tif(activePanel === 'main'){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tactivePanel = history[history.length - 1];\n\t\t\t\tthis.setState({activePanel});\n\t\t\t\tthis.change_hash(activePanel);\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet history = this.state.history;\n\t\tif(history[history.length-1] !== panel) {\n\t\t\thistory.push(panel);\n\t\t\twindow.history.pushState({activePanel: panel}, 'Title');\n\t\t\tthis.setState({activePanel: panel, history, snackbar: null});\n\t\t}\n\t\tthis.change_hash(panel);\n\t}\n\tchange_hash (panel){\n\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": panel});\n\t}\n\n\tasync showSnackBar (text, icon, style, action, onActionClick){\n\t\tthis.setState({ snackbar: null });\n\t\tawait this.sleep(10);\n\t\tif(onActionClick === null) onActionClick = ()=> {};\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t\taction={action}\n\t\t\t\t\tonActionClick={onActionClick}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout} history={this.state.history} onSwipeBack={this.back}>\n\t\t\t\t<Panel id='main'>\n\t\t\t\t\t<PanelHeader>Mini App</PanelHeader>\n\t\t\t\t\t<Group>\n\t\t\t\t\t\t<Cell before={<Icon28AdvertisingOutline/>} onClick={()=>{ this.go('advert') }}>\n\t\t\t\t\t\t\tРеклама\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t<Cell before={<Icon28CameraOutline/>} onClick={()=>{ this.go('light') }}>\n\t\t\t\t\t\t\tФонарик\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t</Group>\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='advert'>\n\t\t\t\t\t<PanelHeader>Реклама</PanelHeader>\n\t\t\t\t\t<Cell indicator={os === ANDROID ? 'Android' : os === IOS ? 'IOS/Web' : os.toString()}>\n\t\t\t\t\t\tПлатформа\n\t\t\t\t\t</Cell>\n\t\t\t\t\t<Group header={<Header mode='secondary'>Просмотр рекламы</Header>}>\n\t\t\t\t\t\t<Cell onClick={()=>{ this.setState({ show_banner_ads: !this.state.show_banner_ads }); }} asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.show_banner_ads ? '180deg' : '0'})` }} />}>Баннер</Cell>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.show_banner_ads &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t<Button mode='primary' onClick={()=>{\n\t\t\t\t\t\t\t\t\t\tbridge.send('VKWebAppGetAds', {}).then(data => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ promoBanner: <PromoBanner onClose={() => { this.setState({promoBanner: null}); }} bannerData={data}/> });\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}>Показать</Button>\n\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px', marginRight: '8px' }} mode='secondary' onClick={()=>{ this.setState({promoBanner: null}); }}>Скрыть</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Separator style={{ marginTop: '8px' }}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Cell onClick={()=>{ if(os === ANDROID){ this.setState({ show_native_ads: !this.state.show_native_ads }) }else{ this.showSnackBar('Работает только на Android', <Icon16CancelCircleOutline fill={'#fff'}/>, redBackground) } }} asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.show_native_ads ? '180deg' : '0'})` }} />}>Полноэкранная</Cell>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.show_native_ads &&\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<Button mode='outline' onClick={()=>{ bridge.send('VKWebAppShowNativeAds', {ad_format:'preloader'}) }}>preloader</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }}  mode='outline' onClick={()=>{ bridge.send('VKWebAppShowNativeAds', {ad_format:'reward'}) }}>reward</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px', marginRight: '8px' }}  mode='outline' onClick={()=>{ bridge.send('VKWebAppShowNativeAds', {ad_format:'interstitial'}) }}>interstitial</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Separator style={{ marginTop: '8px' }}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Group>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.promoBanner &&\n\t\t\t\t\t\t<FixedLayout vertical=\"bottom\">\n\t\t\t\t\t\t\t{this.state.promoBanner}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t</Panel>\n\t\t\t\t<Panel id='light'>\n\t\t\t\t\t<PanelHeader>Реклама</PanelHeader>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\t\tvalue={Number(this.state.light_value)}\n\t\t\t\t\t\t\tonChange={async light_value => {\n\t\t\t\t\t\t\t\tthis.setState({light_value});\n\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppFlashSetLevel', {level: light_value});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttop={String(this.state.light_value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Group header={<Header mode='secondary'>Интервал</Header>}>\n\t\t\t\t\t\t\t<Cell asideContent={<Switch checked={this.state.light_interval_status} onClick={ () =>{\n\t\t\t\t\t\t\t\tthis.setState({ light_interval_status: !this.state.light_interval_status });\n\n\t\t\t\t\t\t\t\tlet interval = this.state.interval ? this.state.interval : null;\n\t\t\t\t\t\t\t\ttry{ clearInterval(interval); }catch (e) {}\n\t\t\t\t\t\t\t\tinterval = setInterval(async ()=>{\n\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppFlashSetLevel', {level: this.state.light_value});\n\t\t\t\t\t\t\t\t}, this.state.light_interval_time);\n\t\t\t\t\t\t\t\tthis.setState({ interval });\n\t\t\t\t\t\t\t}}/>}>\n\t\t\t\t\t\t\t\tСтатус\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Input value={String(this.state.light_interval_time)} onChange={e => this.setState({ light_interval_time: e.target.value })} type='number' top='Время (мс)'/>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</FormLayout>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}